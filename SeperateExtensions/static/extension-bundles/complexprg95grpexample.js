var complexprg95grpexample=function(t,e){"use strict";function n(){}function o(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(o)}function l(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function a(t,e,n){const o=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!o.getElementById(e)){const t=y("style");t.id=e,t.textContent=n,function(t,e){s(t.head||t,e),e.sheet}(o,t)}}function u(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function d(){return m(" ")}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function h(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let A;function x(t){A=t}const T=[],L=[],N=[],$=[],j=Promise.resolve();let I=!1;function C(t){N.push(t)}const b=new Set;let k=0;function w(){const t=A;do{for(;k<T.length;){const t=T[k];k++,x(t),D(t.$$)}for(x(null),T.length=0,k=0;L.length;)L.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];b.has(e)||(b.add(e),e())}N.length=0}while(T.length);for(;$.length;)$.pop()();I=!1,b.clear(),x(t)}function D(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const v=new Set;function E(t,e){-1===t.$$.dirty[0]&&(T.push(t),I||(I=!0,j.then(w)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function S(t,e,c,s,a,u,g,y=[-1]){const m=A;x(t);const d=t.$$={fragment:null,ctx:[],props:u,update:n,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:r(),dirty:y,skip_bound:!1,root:e.target||m.$$.root};g&&g(d.root);let f=!1;if(d.ctx=c?c(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),f&&E(t,e)),n})):[],d.update(),f=!0,i(d.before_update),d.fragment=!!s&&s(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(p)}else d.fragment&&d.fragment.c();e.intro&&((M=t.$$.fragment)&&M.i&&(v.delete(M),M.i(h))),function(t,e,n,r){const{fragment:c,after_update:s}=t.$$;c&&c.m(e,n),r||C((()=>{const e=t.$$.on_mount.map(o).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):i(e),t.$$.on_mount=[]})),s.forEach(C)}(t,e.target,e.anchor,e.customElement),w()}var M,h;x(m)}class z{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=n}$on(t,e){if(!l(e))return n;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function B(t){let e;return{c(){e=y("div"),e.innerHTML='<img src="https://y.yarn.co/e1c7becd-fc72-40cb-8866-2afac14e2712_text.gif" alt="Gif of &#39;Its done&#39; clip from the movie Dune"/>',h(e,"width","400px;")},m(t,n){u(t,e,n)},p:n,i:n,o:n,d(t){t&&p(e)}}}function _(t){a(t,"svelte-o54gka",".container.svelte-o54gka{width:360px;padding:10px}button.svelte-o54gka{border-radius:10px;font-size:40px}")}function R(t,e,n){const o=t.slice();return o[6]=e[n],o}function U(t,e,n){const o=t.slice();return o[9]=e[n][0],o[10]=e[n][1],o}function O(t){let e,n,o,r,i,l=t[10]+"",c=t[9]+"",a=t[10]>1?"s":"";return{c(){e=y("li"),n=m(l),o=d(),r=m(c),i=m(a)},m(t,l){u(t,e,l),s(e,n),s(e,o),s(e,r),s(e,i)},p(t,e){2&e&&l!==(l=t[10]+"")&&M(n,l),2&e&&c!==(c=t[9]+"")&&M(r,c),2&e&&a!==(a=t[10]>1?"s":"")&&M(i,a)},d(t){t&&p(e)}}}function G(t){let e,n,o,r,i,l,c=t[6].text+"";function a(){return t[4](t[6])}return{c(){e=y("button"),n=y("span"),n.textContent="+",o=m(c),r=d(),h(n,"font-size","20px"),f(e,"class","svelte-o54gka")},m(t,c){var p,g,y,m;u(t,e,c),s(e,n),s(e,o),s(e,r),i||(g="click",y=a,(p=e).addEventListener(g,y,m),l=()=>p.removeEventListener(g,y,m),i=!0)},p(e,n){t=e,1&n&&c!==(c=t[6].text+"")&&M(o,c)},d(t){t&&p(e),i=!1,l()}}}function P(t){let o,r,i,l,c=[...t[1]],a=[];for(let e=0;e<c.length;e+=1)a[e]=O(U(t,c,e));let m=t[0].animals,M=[];for(let e=0;e<m.length;e+=1)M[e]=G(R(t,m,e));return{c(){o=y("div"),r=y("ul");for(let t=0;t<a.length;t+=1)a[t].c();i=d(),l=y("center");for(let t=0;t<M.length;t+=1)M[t].c();f(o,"class","svelte-o54gka"),function(t,e,n){t.classList[n?"add":"remove"](e)}(o,"container",Q),h(o,"background-color",e.color.ui.white)},m(t,e){u(t,o,e),s(o,r);for(let t=0;t<a.length;t+=1)a[t].m(r,null);s(o,i),s(o,l);for(let t=0;t<M.length;t+=1)M[t].m(l,null)},p(t,[e]){if(2&e){let n;for(c=[...t[1]],n=0;n<c.length;n+=1){const o=U(t,c,n);a[n]?a[n].p(o,e):(a[n]=O(o),a[n].c(),a[n].m(r,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=c.length}if(5&e){let n;for(m=t[0].animals,n=0;n<m.length;n+=1){const o=R(t,m,n);M[n]?M[n].p(o,e):(M[n]=G(o),M[n].c(),M[n].m(l,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=m.length}},i:n,o:n,d(t){t&&p(o),g(a,t),g(M,t)}}}const Q=!0;function Y(t,n,o){let{extension:r}=n,{close:i}=n;const l=(t,...n)=>e.reactiveInvoke(o(0,r),t,n);let c;return t.$$set=t=>{"extension"in t&&o(0,r=t.extension),"close"in t&&o(3,i=t.close)},t.$$.update=()=>{1&t.$$.dirty&&(t=>{o(1,c=new Map);for(const t of l("getAnimalCollectionEmojis"))c.set(t,c.has(t)?c.get(t)+1:1)})()},[r,c,l,i,t=>l("addAnimalToCollection",t.value)]}const Z=t=>({type:e.BlockType.Reporter,operation:(t,e)=>t+e,args:[{type:e.ArgumentType.Number,defaultValue:3,options:t.lhsOptions},{type:e.ArgumentType.Number}],text:(t,e)=>`Add ${t} to ${e}`});var H,W;!function(t){t[t.Row=0]="Row";t[t.Column=1]="Column";t[t.Both=2]="Both"}(H||(H={})),function(t){t[t.Leopard=0]="Leopard";t[t.Tiger=1]="Tiger";t[t.Gorilla=2]="Gorilla";t[t.Monkey=3]="Monkey";t[t.Pig=4]="Pig"}(W||(W={}));const F={[W.Leopard]:"leopard",[W.Tiger]:"tiger",[W.Gorilla]:"gorilla",[W.Monkey]:"monkey",[W.Pig]:"pig"},V={[W.Leopard]:"🐆",[W.Tiger]:"🐅",[W.Gorilla]:"🦍",[W.Monkey]:"🐒",[W.Pig]:"🐖"};class J extends e.Extension{constructor(...t){super(...t,{id:"complexprg95grpexample",name:"Realistic Typescript-Based Extension",blockIconURI:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwcHgiIGhlaWdodD0iNDAwcHgiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48c3R5bGU+LnN0MHtmaWxsOiMwMDdhY2N9LnN0MXtmaWxsOiNmZmZ9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMCAyMDBWMGg0MDB2NDAwSDAiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNODcuNyAyMDAuN1YyMTdoNTJ2MTQ4aDM2LjlWMjE3aDUydi0xNmMwLTkgMC0xNi4zLS40LTE2LjUgMC0uMy0zMS43LS40LTcwLjItLjRsLTcwIC4zdjE2LjRsLS4zLS4xek0zMjEuNCAxODRjMTAuMiAyLjQgMTggNyAyNSAxNC4zIDMuNyA0IDkuMiAxMSA5LjYgMTIuOCAwIC42LTE3LjMgMTIuMy0yNy44IDE4LjgtLjQuMy0yLTEuNC0zLjYtNC01LjItNy40LTEwLjUtMTAuNi0xOC44LTExLjItMTItLjgtMjAgNS41LTIwIDE2IDAgMy4yLjYgNSAxLjggNy42IDIuNyA1LjUgNy43IDguOCAyMy4yIDE1LjYgMjguNiAxMi4zIDQxIDIwLjQgNDguNSAzMiA4LjUgMTMgMTAuNCAzMy40IDQuNyA0OC43LTYuNCAxNi43LTIyIDI4LTQ0LjMgMzEuNy03IDEuMi0yMyAxLTMwLjUtLjMtMTYtMy0zMS4zLTExLTQwLjctMjEuMy0zLjctNC0xMC44LTE0LjctMTAuNC0xNS40bDMuOC0yLjQgMTUtOC43IDExLjMtNi42IDIuNiAzLjVjMy4zIDUuMiAxMC43IDEyLjIgMTUgMTQuNiAxMyA2LjcgMzAuNCA1LjggMzktMiAzLjctMy40IDUuMy03IDUuMy0xMiAwLTQuNi0uNy02LjctMy0xMC4yLTMuMi00LjQtOS42LTgtMjcuNi0xNi0yMC43LTguOC0yOS41LTE0LjQtMzcuNy0yMy00LjctNS4yLTktMTMuMy0xMS0yMC0xLjUtNS44LTItMjAtLjYtMjUuNyA0LjMtMjAgMTkuNC0zNCA0MS0zOCA3LTEuNCAyMy41LS44IDMwLjQgMWwtLjIuMnoiLz48L3N2Zz4="}),J.prototype.__init.call(this),J.prototype.__init2.call(this)}__init(){this.collection=[W.Gorilla]}getAnimalCollectionEmojis(){return this.collection.map((t=>V[t]))}addAnimalToCollection(t){return this.collection.push(t)}__init2(){this.state=0}defineTranslations(){}init(){this.lhsOptions=[3,4,5],this.animals=Object.entries(V).map((([t,e])=>({value:parseInt(t),text:e}))),this.getAnimalCollection=()=>this.collection.map((t=>({text:V[t],value:t})))}defineBlocks(){return{reportId:()=>({type:e.BlockType.Reporter,text:"My Extension ID is",operation:()=>this.id}),reportColorChannel:()=>({type:e.BlockType.Reporter,args:[e.ArgumentType.Color,{type:e.ArgumentType.String,options:[{value:"r",text:"red"},{value:"g",text:"green"},{value:"b",text:"blue"}]}],text:(t,e)=>`Report ${e} of ${t}`,operation:(t,e)=>t[e]}),sumMatrix:()=>({type:"reporter",args:[e.ArgumentType.Matrix,{type:e.ArgumentType.Number,options:[{value:H.Row,text:"rows"},{value:H.Column,text:"columns"},{value:H.Both,text:"rows and columns"}]}],text:(t,e)=>`Sum ${e} of ${t}`,operation:(t,e)=>{switch(e){case H.Row:return t.map((t=>t.reduce(((t,e)=>t+Number(e)),0))).join("\n");case H.Column:const e=[0,0,0,0,0];return t.forEach((t=>t.forEach(((t,n)=>{e[n]+=Number(t)})))),e.join(" ");case H.Both:return t.map((t=>t.reduce(((t,e)=>t+Number(e)),0))).reduce(((t,e)=>t+e),0).toString()}}}),incrementStateViaThis:()=>({type:e.BlockType.Reporter,text:"Increment (via 'this')",operation:()=>++this.state}),incrementStateViaSelf:t=>({type:e.BlockType.Reporter,text:"Increment (via 'self')",operation:()=>++t.state}),selectNote:()=>({type:e.BlockType.Reporter,arg:e.ArgumentType.Note,text:t=>`Pick note ${t}`,operation:t=>t}),selectAngle:()=>({type:e.BlockType.Reporter,arg:e.ArgumentType.Angle,text:t=>`Pick angle ${t}`,operation:t=>t}),useAnimalMenu1:()=>({type:e.BlockType.Reporter,arg:{type:e.ArgumentType.Number,options:{items:this.animals,acceptsReporters:!0,handler:t=>{switch(t){case`${W.Leopard}`:case`${W.Tiger}`:case`${W.Gorilla}`:case`${W.Monkey}`:case`${W.Pig}`:return t;default:return alert(`You silly goose! ${t} is not an animal.`),W.Leopard}}}},text:t=>`This is a ${t}`,operation:t=>F[t]}),useAnimalMenu2:t=>({type:e.BlockType.Reporter,arg:{type:e.ArgumentType.Number,options:t.animals},text:t=>`Where does the ${t} live?`,operation:t=>{switch(t){case W.Leopard:return"Africa and Asia";case W.Tiger:return"Asia";case W.Gorilla:return"Africa";case W.Monkey:return"Africa, Asia, and South America";case W.Pig:return"Almost everywhere (except Antartica)"}}}),addAnimalToCollection:t=>({type:e.BlockType.Command,arg:{type:e.ArgumentType.Number,options:t.animals},text:t=>`Add ${t} to collection`,operation:t=>{this.addAnimalToCollection(t),this.openUI("Alert")}}),chooseBetweenAnimals:t=>({type:e.BlockType.Reporter,arg:{type:e.ArgumentType.Number,options:t.getAnimalCollection},text:t=>`Animals in collection: ${t}`,operation:t=>F[t]}),multiplyUsingSelf:this.multiplyUsingSelf,multiplyUsingThis:this.multiplyUsingThis.bind(this),add:Z,showAnimalCollectionUI:()=>({type:e.BlockType.Button,text:"Show Animal Collection",operation:()=>{this.openUI("Animals","Here's your animal collection")}})}}multiplyUsingSelf(t){return{type:e.BlockType.Reporter,args:[{type:e.ArgumentType.Number,defaultValue:3,options:t.lhsOptions},e.ArgumentType.Number],text:(t,e)=>`${t} X ${e}`,operation:(t,e)=>t*e}}multiplyUsingThis(){return{type:e.BlockType.Reporter,args:[{type:e.ArgumentType.Number,defaultValue:3,options:this.lhsOptions},e.ArgumentType.Number],text:(t,e)=>`${t} X ${e}`,operation:(t,e)=>t*e}}}return t.Alert=class extends z{constructor(t){super(),S(this,t,null,B,c,{})}},t.Animals=class extends z{constructor(t){super(),S(this,t,Y,P,c,{extension:0,close:3},_)}},t.Extension=J,Object.defineProperty(t,"__esModule",{value:!0}),t}({},ExtensionFramework);//# sourceMappingURL=complexprg95grpexample.js.map
