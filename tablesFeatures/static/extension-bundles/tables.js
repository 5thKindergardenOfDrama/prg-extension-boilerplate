var tables=function(e,t){"use strict";function n(){}function r(e){return e()}function a(){return Object.create(null)}function o(e){e.forEach(r)}function l(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function c(e,t){e.appendChild(t)}function u(e,t,n){const r=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!r.getElementById(t)){const e=h("style");e.id=t,e.textContent=n,function(e,t){c(e.head||e,t),t.sheet}(r,e)}}function d(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function b(){return f(" ")}function g(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e){return""===e?null:+e}function w(e,t){e.value=null==t?"":t}function $(e,t,n,r){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function x(e,t,n){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function k(e,t,n){e.classList.toggle(t,!!n)}let N;function T(e){N=e}function A(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const _=[],C=[];let I=[];const O=[],B=Promise.resolve();let E=!1;function R(e){I.push(e)}const j=new Set;let V=0;function z(){if(0!==V)return;const e=N;do{try{for(;V<_.length;){const e=_[V];V++,T(e),S(e.$$)}}catch(e){throw _.length=0,V=0,e}for(T(null),_.length=0,V=0;C.length;)C.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];j.has(t)||(j.add(t),t())}I.length=0}while(_.length);for(;O.length;)O.pop()();E=!1,j.clear(),T(e)}function S(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}const D=new Set;let H;function M(e,t){e&&e.i&&(D.delete(e),e.i(t))}function P(e,t,n,r){if(e&&e.o){if(D.has(e))return;D.add(e),H.c.push((()=>{D.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function L(e){return void 0!==e?.length?e:Array.from(e)}function q(e){e&&e.c()}function F(e,t,n){const{fragment:a,after_update:s}=e.$$;a&&a.m(t,n),R((()=>{const t=e.$$.on_mount.map(r).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),s.forEach(R)}function U(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];I.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),I=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function G(e,t){-1===e.$$.dirty[0]&&(_.push(e),E||(E=!0,B.then(z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(e,t,r,l,s,i,c=null,u=[-1]){const d=N;T(e);const p=e.$$={fragment:null,ctx:[],props:i,update:n,not_equal:s,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:a(),dirty:u,skip_bound:!1,root:t.target||d.$$.root};c&&c(p.root);let h=!1;if(p.ctx=r?r(e,t.props||{},((t,n,...r)=>{const a=r.length?r[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=a)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](a),h&&G(e,t)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!l&&l(p.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);p.fragment&&p.fragment.l(e),e.forEach(m)}else p.fragment&&p.fragment.c();t.intro&&M(e.$$.fragment),F(e,t.target,t.anchor),z()}T(d)}class K{$$=void 0;$$set=void 0;$destroy(){U(this,1),this.$destroy=n}$on(e,t){if(!l(t))return n;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class Q{constructor(e){this.root=e}get(...e){return`var(--${this.root}-${e.join("-")})`}primary(...e){return this.get("primary",...e)}secondary(...e){return this.get("secondary",...e)}tertiary(...e){return this.get("tertiary",...e)}transparent(...e){return this.get("transparent",...e)}light(...e){return this.get("light",...e)}}const W=new Q("ui"),X=new Q("text"),Y=new Q("motion"),Z=new Q("red"),ee=new Q("sound"),te=new Q("control"),ne=new Q("data"),re=new Q("pen"),ae=new Q("error"),oe=new Q("extensions"),le=new Q("extensions"),se={ui:{primary:W.primary(),secondary:W.secondary(),tertiary:W.tertiary(),modalOverlay:W.get("modal","overlay"),white:W.get("white"),whiteDim:W.get("white","dim"),whiteTransparent:W.get("white","transparent"),transparent:W.transparent(),blackTransparent:W.get("black","transparent")},text:{primary:X.primary(),primaryTransparent:X.transparent()},motion:{primary:Y.primary(),tertiary:Y.tertiary(),transparent:Y.get("transparent"),lightTansparent:Y.light("transparent")},red:{primary:Z.primary(),tertiary:Z.tertiary()},sound:{primary:ee.primary(),tertiary:ee.tertiary()},control:{primary:te.primary()},data:{primary:ne.primary()},pen:{primary:re.primary(),transparent:re.transparent()},error:{primary:ae.primary(),light:ae.light(),transparent:ae.transparent()},extensions:{primary:oe.primary(),tertiary:oe.tertiary(),light:oe.light(),transparent:oe.transparent()},drop:{highlight:le.get("highlight")}};function ie(e){u(e,"svelte-1blbdzs","button.svelte-1blbdzs:disabled{background:var(--drop-highlight) !important;border:var(--drop-highlight) !important}button.svelte-1blbdzs{border-width:1px;border-style:solid;font-weight:600;font-size:0.85rem;transition:background-color 0.25s, border-color 0.25s}")}function ce(e){let t,n,r,a;const l=e[8].default,s=function(e,t,n,r){if(e){const a=i(e,t,n,r);return e[0](a)}}(l,e,e[7],null);return{c(){t=h("button"),s&&s.c(),t.disabled=e[0],y(t,"data-testid",e[1]),y(t,"class","svelte-1blbdzs"),$(t,"border-color",e[6]),$(t,"background-color",e[6]),$(t,"color",e[5]),$(t,"padding",`${e[2]} ${e[3]}`),$(t,"border-radius",e[4])},m(o,l){d(o,t,l),s&&s.m(t,null),n=!0,r||(a=[g(t,"click",e[9]),g(t,"mousedown",e[10]),g(t,"mouseup",e[11])],r=!0)},p(e,[r]){s&&s.p&&(!n||128&r)&&function(e,t,n,r,a,o){if(a){const l=i(t,n,r,o);e.p(l,a)}}(s,l,e,e[7],n?function(e,t,n,r){if(e[2]&&r){const a=e[2](r(n));if(void 0===t.dirty)return a;if("object"==typeof a){const e=[],n=Math.max(t.dirty.length,a.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|a[r];return e}return t.dirty|a}return t.dirty}(l,e[7],r,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[7]),null),(!n||1&r)&&(t.disabled=e[0]),(!n||2&r)&&y(t,"data-testid",e[1]),12&r&&$(t,"padding",`${e[2]} ${e[3]}`),16&r&&$(t,"border-radius",e[4])},i(e){n||(M(s,e),n=!0)},o(e){P(s,e),n=!1},d(e){e&&m(t),s&&s.d(e),r=!1,o(a)}}}function ue(e,t,n){let{$$slots:r={},$$scope:a}=t,{disabled:o=!1}=t,{dataTestID:l=null}=t,{paddingVertical:s="0.75rem"}=t,{paddingHorizontal:i="1rem"}=t,{borderRadius:c="0.25rem"}=t;const u=se.ui.white,d=se.motion.primary;return e.$$set=e=>{"disabled"in e&&n(0,o=e.disabled),"dataTestID"in e&&n(1,l=e.dataTestID),"paddingVertical"in e&&n(2,s=e.paddingVertical),"paddingHorizontal"in e&&n(3,i=e.paddingHorizontal),"borderRadius"in e&&n(4,c=e.borderRadius),"$$scope"in e&&n(7,a=e.$$scope)},[o,l,s,i,c,u,d,a,r,function(t){A.call(this,e,t)},function(t){A.call(this,e,t)},function(t){A.call(this,e,t)}]}class de extends K{constructor(e){super(),J(this,e,ue,ce,s,{disabled:0,dataTestID:1,paddingVertical:2,paddingHorizontal:3,borderRadius:4},ie)}}function me(e){let t;return{c(){t=f("Ok")},m(e,n){d(e,t,n)},d(e){e&&m(t)}}}function pe(e){let t,n;return t=new de({props:{disabled:e[0],dataTestID:"ok",$$slots:{default:[me]},$$scope:{ctx:e}}}),t.$on("click",e[1]),{c(){q(t.$$.fragment)},m(e,r){F(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.disabled=e[0]),4&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){P(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function he(e,t,n){let{disabled:r=!1}=t;return e.$$set=e=>{"disabled"in e&&n(0,r=e.disabled)},[r,function(t){A.call(this,e,t)}]}class fe extends K{constructor(e){super(),J(this,e,he,pe,s,{disabled:0})}}function be(e){u(e,"svelte-186212l",".container.svelte-186212l{width:640px!important;padding:1.5rem 2.25rem}.tableListDropdown.svelte-186212l{margin-bottom:1.5rem;width:100%;border:1px solid var(--ui-black-transparent);border-radius:5px;padding:0 1rem;height:3rem;color:var(--text-primary-transparent);font-size:1rem}.tableBox.svelte-186212l{border:1px solid var(--ui-black-transparent);border-radius:5px;margin-bottom:1rem;padding:1rem;color:var(--text-primary-transparent);font-size:1rem;overflow:scroll;max-height:22.5rem}.tableValueInput.svelte-186212l{width:3rem;padding:.25rem;color:var(--text-primary-transparent);font-size:.85rem}.nameInput.svelte-186212l{font-weight:bold;width:4rem;padding:.25rem;color:var(--text-primary-transparent);font-size:1rem}")}function ge(e,t,n){const r=e.slice();return r[18]=t[n],r[20]=n,r}function ye(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function ve(e,t,n){const r=e.slice();return r[24]=t[n],r[20]=n,r}function we(e,t,n){const r=e.slice();return r[26]=t[n],r}function $e(e){let t,n,r,a,o=e[26]+"";return{c(){t=h("option"),n=f(o),r=b(),t.__value=a=e[26],w(t,t.__value)},m(e,a){d(e,t,a),c(t,n),c(t,r)},p(e,r){1&r&&o!==(o=e[26]+"")&&function(e,t){t=""+t,e.data!==t&&(e.data=t)}(n,o),1&r&&a!==(a=e[26])&&(t.__value=a,w(t,t.__value))},d(e){e&&m(t)}}}function xe(e){let t,n,r,a,o,l;function s(...t){return e[12](e[20],...t)}return{c(){t=h("th"),n=h("input"),a=b(),y(n,"type","text"),n.value=r=e[24],y(n,"data-testid","columnNameCell"),y(n,"class","svelte-186212l"),k(n,"nameInput",e[7])},m(e,r){d(e,t,r),c(t,n),c(t,a),o||(l=g(n,"change",s),o=!0)},p(t,a){e=t,5&a&&r!==(r=e[24])&&n.value!==r&&(n.value=r)},d(e){e&&m(t),o=!1,l()}}}function ke(e){let t,n,r,a,o;function l(...t){return e[14](e[20],e[23],...t)}return{c(){t=h("th"),n=h("input"),y(n,"type","number"),n.value=r=e[21],y(n,"data-testid","tableCell"),y(n,"class","svelte-186212l"),k(n,"tableValueInput",e[6])},m(e,r){d(e,t,r),c(t,n),a||(o=g(n,"change",l),a=!0)},p(t,a){e=t,5&a&&r!==(r=e[21])&&n.value!==r&&(n.value=r)},d(e){e&&m(t),a=!1,o()}}}function Ne(e){let t,n,r,a,o,l,s,i;function u(...t){return e[13](e[20],...t)}let f=L(e[18]),v=[];for(let t=0;t<f.length;t+=1)v[t]=ke(ye(e,f,t));return{c(){t=h("tr"),n=h("th"),r=h("input"),o=b();for(let e=0;e<v.length;e+=1)v[e].c();l=b(),y(r,"type","text"),r.value=a=e[0].rowNames[e[2]][e[20]],y(r,"data-testid","rowNameCell"),y(r,"class","svelte-186212l"),k(r,"nameInput",e[7])},m(e,a){d(e,t,a),c(t,n),c(n,r),c(t,o);for(let e=0;e<v.length;e+=1)v[e]&&v[e].m(t,null);c(t,l),s||(i=g(r,"change",u),s=!0)},p(n,o){if(e=n,5&o&&a!==(a=e[0].rowNames[e[2]][e[20]])&&r.value!==a&&(r.value=a),325&o){let n;for(f=L(e[18]),n=0;n<f.length;n+=1){const r=ye(e,f,n);v[n]?v[n].p(r,o):(v[n]=ke(r),v[n].c(),v[n].m(t,l))}for(;n<v.length;n+=1)v[n].d(1);v.length=f.length}},d(e){e&&m(t),p(v,e),s=!1,i()}}}function Te(e){let n,r,a,o,s,i,u,f,v,w,N,T,A,_,C,I,O,B,E=L(Object.keys(e[0].tables)),j=[];for(let t=0;t<E.length;t+=1)j[t]=$e(we(e,E,t));let V=L(e[0].columnNames[e[2]]),z=[];for(let t=0;t<V.length;t+=1)z[t]=xe(ve(e,V,t));let S=L(e[0].tables[e[2]]),D=[];for(let t=0;t<S.length;t+=1)D[t]=Ne(ge(e,S,t));return C=new fe({}),C.$on("click",(function(){l(e[1])&&e[1].apply(this,arguments)})),{c(){n=h("div"),r=h("div"),a=h("select");for(let e=0;e<j.length;e+=1)j[e].c();o=b(),s=h("div"),i=h("table"),u=h("thead"),f=h("tr"),v=h("th"),w=b();for(let e=0;e<z.length;e+=1)z[e].c();N=b(),T=h("tbody");for(let e=0;e<D.length;e+=1)D[e].c();A=b(),_=h("center"),q(C.$$.fragment),y(a,"data-testid","tableSelect"),y(a,"class","svelte-186212l"),void 0===e[2]&&R((()=>e[11].call(a))),k(a,"tableListDropdown",e[4]),y(s,"class","svelte-186212l"),k(s,"tableBox",e[5]),y(n,"class","svelte-186212l"),k(n,"container",e[3]),$(n,"width","360px"),$(n,"background-color",t.color.ui.white),$(n,"color",t.color.text.primary)},m(t,l){d(t,n,l),c(n,r),c(r,a);for(let e=0;e<j.length;e+=1)j[e]&&j[e].m(a,null);x(a,e[2],!0),c(n,o),c(n,s),c(s,i),c(i,u),c(u,f),c(f,v),c(f,w);for(let e=0;e<z.length;e+=1)z[e]&&z[e].m(f,null);c(i,N),c(i,T);for(let e=0;e<D.length;e+=1)D[e]&&D[e].m(T,null);c(n,A),c(n,_),F(C,_,null),I=!0,O||(B=g(a,"change",e[11]),O=!0)},p(t,[n]){if(e=t,1&n){let t;for(E=L(Object.keys(e[0].tables)),t=0;t<E.length;t+=1){const r=we(e,E,t);j[t]?j[t].p(r,n):(j[t]=$e(r),j[t].c(),j[t].m(a,null))}for(;t<j.length;t+=1)j[t].d(1);j.length=E.length}if(5&n&&x(a,e[2]),645&n){let t;for(V=L(e[0].columnNames[e[2]]),t=0;t<V.length;t+=1){const r=ve(e,V,t);z[t]?z[t].p(r,n):(z[t]=xe(r),z[t].c(),z[t].m(f,null))}for(;t<z.length;t+=1)z[t].d(1);z.length=V.length}if(1477&n){let t;for(S=L(e[0].tables[e[2]]),t=0;t<S.length;t+=1){const r=ge(e,S,t);D[t]?D[t].p(r,n):(D[t]=Ne(r),D[t].c(),D[t].m(T,null))}for(;t<D.length;t+=1)D[t].d(1);D.length=S.length}},i(e){I||(M(C.$$.fragment,e),I=!0)},o(e){P(C.$$.fragment,e),I=!1},d(e){e&&m(n),p(j,e),p(z,e),p(D,e),U(C),O=!1,B()}}}function Ae(e,n,r){let{extension:a}=n,{close:o}=n;const l=(e,...n)=>t.reactiveInvoke(r(0,a),e,n),s=t.activeClass,i=t.activeClass,c=t.activeClass,u=t.activeClass,d=t.activeClass,m=Object.keys(a.tables);let p=m.length>0?m[0]:"";const h=(e,t,n)=>l("changeTableValue",{name:p,row:t,column:n,value:parseInt(e.currentTarget.value)}),f=(e,t)=>l("changeColumnName",{name:p,column:t,value:e.currentTarget.value}),b=(e,t)=>l("changeRowName",{name:p,row:t,value:e.currentTarget.value});return e.$$set=e=>{"extension"in e&&r(0,a=e.extension),"close"in e&&r(1,o=e.close)},[a,o,p,s,i,c,u,d,h,f,b,function(){p=function(e){const t=e.querySelector(":checked");return t&&t.__value}(this),r(2,p),r(0,a)},(e,t)=>f(t,e),(e,t)=>b(t,e),(e,t,n)=>h(n,e,t)]}function _e(e){u(e,"svelte-1lnk5kq","button.svelte-1lnk5kq{padding:0.75rem 1rem;border-radius:0.25rem;border-width:1px;border-style:solid;font-weight:600;font-size:0.85rem}")}function Ce(e){let t,r,a;return{c(){t=h("button"),t.textContent="Cancel",y(t,"class","svelte-1lnk5kq"),$(t,"border-color",e[0]),$(t,"background-color",e[0]),$(t,"color",e[0])},m(n,o){d(n,t,o),r||(a=g(t,"click",e[1]),r=!0)},p:n,i:n,o:n,d(e){e&&m(t),r=!1,a()}}}function Ie(e){return[se.ui.blackTransparent,function(t){A.call(this,e,t)}]}class Oe extends K{constructor(e){super(),J(this,e,Ie,Ce,s,{},_e)}}function Be(e){u(e,"svelte-3p09kw",".container.svelte-3p09kw{width:360px;background-color:var(--ui-white);padding:30px;padding:1.5rem 2.25rem}.label.svelte-3p09kw{font-weight:500;margin:0 0 0.75rem}.numberInputContainer.svelte-3p09kw{display:flex;justify-content:space-between;align-items:center}input.svelte-3p09kw{border:1px solid var(--ui-black-transparent);border-radius:5px}.numberInput.svelte-3p09kw{margin-bottom:1.5rem;border:1px solid var(--ui-black-transparent);border-radius:5px;padding:0 1rem;height:3rem;color:var(--text-primary-transparent);font-size:.875rem;vertical-align:middle;margin-top:20px}.nameInput.svelte-3p09kw{margin-bottom:1.5rem;width:100%;border:1px solid var(--ui-black-transparent);border-radius:5px;padding:0 1rem;height:3rem;color:var(--text-primary-transparent);font-size:.875rem}.error.svelte-3p09kw{margin:0px;font-weight:bold}")}function Ee(e){let n,r,a,s,i,u,p,f,x,N,T,A,_,C,I,O,B,E,R,j,V,z,S,D,H;return E=new fe({props:{disabled:e[4]||e[5]}}),E.$on("click",e[6]),j=new Oe({}),j.$on("click",(function(){l(e[0])&&e[0].apply(this,arguments)})),{c(){n=h("div"),r=h("div"),a=h("div"),a.textContent="Table Name",s=b(),i=h("input"),u=b(),p=h("div"),f=h("div"),f.textContent="Number of Rows",x=b(),N=h("input"),T=b(),A=h("div"),_=h("div"),_.textContent="Number of Columns",C=b(),I=h("input"),O=b(),B=h("div"),q(E.$$.fragment),R=b(),q(j.$$.fragment),V=b(),z=h("p"),z.textContent="That table name already exists",y(a,"class","svelte-3p09kw"),k(a,"label",je),i.autofocus=!0,y(i,"data-testid","makeNameInput"),y(i,"class","svelte-3p09kw"),k(i,"nameInput",Se),y(f,"class","svelte-3p09kw"),k(f,"label",je),y(N,"type","number"),y(N,"min",He),y(N,"max",Me),y(N,"class","svelte-3p09kw"),k(N,"numberInput",ze),y(p,"class","svelte-3p09kw"),k(p,"numberInputContainer",Ve),y(_,"class","svelte-3p09kw"),k(_,"label",je),y(I,"type","number"),y(I,"min",He),y(I,"max",Me),y(I,"class","svelte-3p09kw"),k(I,"numberInput",ze),y(A,"class","svelte-3p09kw"),k(A,"numberInputContainer",Ve),y(z,"class","svelte-3p09kw"),k(z,"error",De),$(z,"visibility",e[5]?"visible":"hidden"),$(z,"color",t.color.error.primary),y(n,"class","svelte-3p09kw"),k(n,"container",Re)},m(t,o){d(t,n,o),c(n,r),c(r,a),c(r,s),c(r,i),w(i,e[1]),c(n,u),c(n,p),c(p,f),c(p,x),c(p,N),w(N,e[2]),c(n,T),c(n,A),c(A,_),c(A,C),c(A,I),w(I,e[3]),c(n,O),c(n,B),F(E,B,null),c(B,R),F(j,B,null),c(n,V),c(n,z),S=!0,i.focus(),D||(H=[g(i,"input",e[8]),g(N,"input",e[9]),g(I,"input",e[10])],D=!0)},p(t,[n]){e=t,2&n&&i.value!==e[1]&&w(i,e[1]),4&n&&v(N.value)!==e[2]&&w(N,e[2]),8&n&&v(I.value)!==e[3]&&w(I,e[3]);const r={};48&n&&(r.disabled=e[4]||e[5]),E.$set(r),32&n&&$(z,"visibility",e[5]?"visible":"hidden")},i(e){S||(M(E.$$.fragment,e),M(j.$$.fragment,e),S=!0)},o(e){P(E.$$.fragment,e),P(j.$$.fragment,e),S=!1},d(e){e&&m(n),U(E),U(j),D=!1,o(H)}}}const Re=!0,je=!0,Ve=!0,ze=!0,Se=!0,De=!0,He=1,Me=100;function Pe(e,n,r){let{extension:a}=n,{close:o}=n;let l,s,i="",c=1,u=1;return e.$$set=e=>{"extension"in e&&r(7,a=e.extension),"close"in e&&r(0,o=e.close)},e.$$.update=()=>{2&e.$$.dirty&&r(4,l=0===i.length),130&e.$$.dirty&&r(5,s=i in a.tables)},[o,i,c,u,l,s,()=>{((e,...n)=>{t.reactiveInvoke(r(7,a),e,n)})("newTable",{name:i,rows:c,columns:u}),o()},a,function(){i=this.value,r(1,i)},function(){c=v(this.value),r(2,c)},function(){u=v(this.value),r(3,u)}]}"function"==typeof SuppressedError&&SuppressedError;let Le=(()=>{let e,n,r=[t.validGenericExtension()],a=[],o=t.Extension;var l,s,i,c=n=class extends o{constructor(){super(...arguments),this.saveDataHandler=new t.SaveDataHandler({Extension:c,onSave:e=>({tables:e.tables,rowNames:e.rowNames,columnNames:e.columnNames}),onLoad:(e,t)=>{if(void 0===t.rowNames){e.tables=t;const n=Object.keys(e.tables);e.rowNames=n.reduce(((t,n,r)=>(t[n]=e.tables[n].map(((e,t)=>`row${t+1}`)),t)),{}),e.columnNames=n.reduce(((t,n,r)=>(t[n]=e.tables[n][0].map(((e,t)=>`col${t+1}`)),t)),{})}else e.tables=t.tables,e.rowNames=t.rowNames,e.columnNames=t.columnNames}})}init(e){this.tables||(this.tables={},this.rowNames={},this.columnNames={},this.tables.myTable=[],this.tables.myTable.push([0]),this.rowNames.myTable=["row"],this.columnNames.myTable=["col"]),this.tableNamesArg={type:t.ArgumentType.String,options:{getItems:this.getTableNames.bind(this),acceptsReporters:!0,handler:e=>void 0===this.getTableNames().indexOf(e)?(alert(`no table with name ${e} exists`),"myTable"):e}},this.defaultNumberArg={type:t.ArgumentType.Number,defaultValue:1}}getTableNames(){return Object.keys(this.tables).map((e=>({text:e,value:e})))}newTable(e){const{name:t,rows:n,columns:r}=e;this.tables[t]=[],this.rowNames[t]=new Array(n).fill("row"),this.columnNames[t]=new Array(r).fill("col");for(let e=0;e<n;e++){let e=[];for(let t=0;t<r;t++)e.push(0);this.tables[t].push(e)}}changeTableValue(e){const{name:t,row:n,column:r,value:a}=e;this.tables[t][n][r]=a}changeColumnName(e){const{name:t,column:n,value:r}=e;this.columnNames[t][n]=r}changeRowName(e){const{name:t,row:n,value:r}=e;this.rowNames[t][n]=r}defineBlocks(){return{createTable:()=>({type:t.BlockType.Button,text:"new table",operation:()=>this.openUI("Make","Add a table")}),addTable:e=>({type:t.BlockType.Command,args:[e.tableNamesArg,e.defaultNumberArg,e.defaultNumberArg],text:(e,t,n)=>`add table called ${e} with ${t} rows and ${n} columns`,operation:(t,n,r)=>{if(t in e.tables)return void alert("that table already exists");const a={name:t,rows:n,columns:r};e.newTable(a)}}),removeTable:e=>({type:t.BlockType.Command,arg:e.tableNamesArg,text:e=>`remove ${e}`,operation:e=>this.tables[e]?(delete this.tables[e],delete this.rowNames[e],void delete this.columnNames[e]):void alert("that table doesn't exist")}),insertColumn:e=>({type:t.BlockType.Command,arg:e.tableNamesArg,text:e=>`add column to ${e}`,operation:t=>{if(t in e.tables){for(let e=0;e<this.tables[t].length;e++)this.tables[t][e].push(0);this.columnNames[t].push("col")}else alert("that table does not exist.")}}),insertRow:e=>({type:t.BlockType.Command,arg:e.tableNamesArg,text:e=>`add row to ${e}`,operation:t=>{if(!(t in e.tables))return void alert("that table does not exist.");let n=[];for(let e=0;e<this.tables[t][0].length;e++)n.push(0);this.tables[t].push(n),this.rowNames[t].push("row")}}),deleteColumn:e=>({type:t.BlockType.Command,args:[e.tableNamesArg,e.defaultNumberArg],text:(e,t)=>`delete column ${t} from ${e}`,operation:(t,n)=>{if(t in e.tables)if(n>this.tables[t][0].length||n<1)alert("that column number doesn't exist.");else{for(let e=0;e<this.tables[t].length;e++)this.tables[t][e].splice(n-1,1);this.columnNames[t].splice(n-1,1)}else alert("that table does not exist.")}}),deleteRow:e=>({type:t.BlockType.Command,args:[e.tableNamesArg,e.defaultNumberArg],text:(e,t)=>`delete row ${t} from ${e}`,operation:(t,n)=>{t in e.tables?n>this.tables[t].length||n<1?alert("that row number doesn't exist."):(this.tables[t].splice(n-1,1),this.rowNames[t].splice(n-1,1)):alert("that table does not exist.")}}),insertValueAt:e=>({type:t.BlockType.Command,args:[e.tableNamesArg,t.ArgumentType.Number,e.defaultNumberArg,e.defaultNumberArg],text:(e,t,n,r)=>`insert ${t} at row ${n} and column ${r} of ${e}`,operation:(t,n,r,a)=>{t in e.tables?this.tables[t].length<r?alert("That row value is too high!"):this.tables[t][0].length<a?alert("That column value is too high!"):this.tables[t][r-1][a-1]=n:alert("that table does not exist.")}}),getValueAt:e=>({type:t.BlockType.Reporter,args:[e.tableNamesArg,e.defaultNumberArg,e.defaultNumberArg],text:(e,t,n)=>`item at row ${t} and column ${n} of ${e}`,operation:(t,n,r)=>t in e.tables?this.tables[t].length<n?(alert("That row value is too high!"),-1):this.tables[t][0].length<r?(alert("That column value is too high!"),-1):this.tables[t][n-1][r-1]:(alert("that table does not exist."),-1)}),numberOfRows:e=>({type:t.BlockType.Reporter,arg:e.tableNamesArg,text:e=>`number of rows in ${e}`,operation:t=>t in e.tables?this.tables[t].length:(alert("that table does not exist."),-1)}),numberOfColumns:e=>({type:t.BlockType.Reporter,arg:e.tableNamesArg,text:e=>`number of columns in ${e}`,operation:t=>t in e.tables?this.tables[t][0].length:(alert("that table does not exist."),-1)}),highestValueOfColumn:e=>({type:t.BlockType.Reporter,args:[e.tableNamesArg,e.defaultNumberArg],text:(e,t)=>`highest value of column ${t} in ${e}`,operation:(t,n)=>t in e.tables?this.tables[t].reduce(((e,t)=>Math.max(e,t[n-1])),-1/0):(alert("that table does not exist."),-1)}),highestValueOfRow:e=>({type:t.BlockType.Reporter,args:[e.tableNamesArg,e.defaultNumberArg],text:(e,t)=>`highest value of row ${t} in ${e}`,operation:(t,n)=>t in e.tables?Math.max(...this.tables[t][n-1]):(alert("that table does not exist."),-1)}),indexOfHighestColumnValue:e=>({type:t.BlockType.Reporter,args:[e.tableNamesArg,e.defaultNumberArg],text:(e,t)=>`row # of highest value in column ${t} of ${e}`,operation:(t,n)=>{if(!(t in e.tables))return alert("that table does not exist."),-1;return this.tables[t].reduce(((e,t,r)=>e[1]>=t[n-1]?e:[r,t[n-1]]),[-1,-1/0])[0]+1}}),indexOfHighestRowValue:e=>({type:t.BlockType.Reporter,args:[e.tableNamesArg,e.defaultNumberArg],text:(e,t)=>`column # of highest value in row ${t} of ${e}`,operation:(e,t)=>{if(!(e in this.tables))return alert("that table does not exist."),-1;let n=Math.max(...this.tables[e][t-1]);return this.tables[e][t-1].indexOf(n)+1}}),showTable:()=>({type:t.BlockType.Button,text:"view tables",operation:()=>this.openUI("View","View / Edit Table Values")})}}};return l=n,"symbol"==typeof(s="Tables")&&(s=s.description?"[".concat(s.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:i?"".concat(i," ",s):s}),(()=>{var t;const l="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(t=o[Symbol.metadata])&&void 0!==t?t:null):void 0;!function(e,t,n,r,a,o){function l(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,i=r.kind,c="getter"===i?"get":"setter"===i?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),m=!1,p=n.length-1;p>=0;p--){var h={};for(var f in r)h[f]="access"===f?{}:r[f];for(var f in r.access)h.access[f]=r.access[f];h.addInitializer=function(e){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(e||null))};var b=(0,n[p])("accessor"===i?{get:d.get,set:d.set}:d[c],h);if("accessor"===i){if(void 0===b)continue;if(null===b||"object"!=typeof b)throw new TypeError("Object expected");(s=l(b.get))&&(d.get=s),(s=l(b.set))&&(d.set=s),(s=l(b.init))&&a.unshift(s)}else(s=l(b))&&("field"===i?a.unshift(s):d[c]=s)}u&&Object.defineProperty(u,r.name,d),m=!0}(null,e={value:n},r,{kind:"class",name:n.name,metadata:l},null,a),c=n=e.value,l&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),function(e,t,n){for(var r=arguments.length>2,a=0;a<t.length;a++)n=r?t[a].call(e,n):t[a].call(e)}(n,a)})(),c=n})();return e.Extension=Le,e.Make=class extends K{constructor(e){super(),J(this,e,Pe,Ee,s,{extension:7,close:0},Be)}},e.View=class extends K{constructor(e){super(),J(this,e,Ae,Te,s,{extension:0,close:1},be)}},Object.defineProperty(e,"__esModule",{value:!0}),e}({},ExtensionFramework);//# sourceMappingURL=tables.js.map
