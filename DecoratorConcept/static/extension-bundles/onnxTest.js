var onnxTest=function(t,e){"use strict";class n{get runtime(){return async function(t,e=100){let n;for(;!t.ready;)await new Promise((t=>{clearTimeout(n),n=setTimeout(t,e)}));clearTimeout(n)}(this).then((()=>this.onnx))}get globalOnnx(){return window.ort}constructor(){this.ready=!1;this.globalOnnx?this.resolve():((t,e,n)=>{const o=document.createElement("script");o.onload=e,o.onerror=n??(()=>{throw new Error(`Error loading endpoint: ${t}`)}),o.src=t,o.async=!0,document.body.appendChild(o)})(n.FromCDN,this.resolve.bind(this))}resolve(){this.ready=!0,this.onnx=this.globalOnnx}}n.FromCDN="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js";class o extends e.Extension{constructor(){super(...arguments,null,"onnxTest","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAB8CAYAAABE3L+AAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQElEQVR4nO3dMWsUQRyG8edyZyEqqBgVJHiaUvA76CcQK3sbsbJVv0AquxSKjaWlpBS0thDBwkpFLTQgQRQtTIxnsVdJsnO3c//du3nfH1x1Ozube8JuYLJ7vdFohGlZ6voArH2OLsjRBTm6IEcXNKh7893HD+vARWC7ncOxTAeB+6tnh4/qNqqNDlwFTs/skKwNL4Ha6KnT+6fZHYu1ZCu1ga/pghxdkKMLcnRBji7I0QU5uiBHF+ToghxdkKMLcnRBqVW2HLvAZuD+SzUATkVPEGUTGFLFt8mdB95GThAZ/S/wJ3D/pfoRPUHkNX0J6Afuv1RHoifwH3KCHF2QowtydEGOLsjRBTm6IEcX5OiCHF2QowuKjL6DV9iaeB89QeQq21HgJtVqm01uOXqC6Ojrgfu3hnxNF+ToghxdkKMLcnRBji7I0QU5uiBHF+ToghxdkKMLcvTyJJs6enmS98JFLq1uAdfxenqbBsCbSTaK8hN4Erh/ayjy9D7AtyrPJV/TBTm6IEcX5OiCHF2QowtydEGOLsjRBTm6IEcX5OiCIlfZcq0AJzua+zt5T2I+Bxyf0bFM6wvwuW6DeY5+B7jR0dzPgcsZ4+8BV2ZzKFNbA27XbTDPp/cun2KRO3eXjzxP/tPKPEff6XDu35njt2dyFM0kP7d5jm5BHF2QowtydEGOLsjRBTm6IEcX5OiCHF2Qowty9L0dyxx/eCZH0UzyG5nneWk110OqteUmv9g94G7N+yPgwPj1/6rWEtXtwq/H+2lTH3ia2qjk6LeAXw3HXgKeZcx9DXicMT5Uyaf31Yyxuaf3Q5njQ5Ucve1T68IoObrtw9EFObogRxfk6IIcXZCjC3J0QY4uyNEFlRw959ak3NuSurwlK8nR95Ybvct72ZJKXlrdoHoS9bQPJd4FTmTOvUa1tNv259sDHoxf+yo5+oUO5x6OX11I/twln95VfUtt4OiCHF2QowtydEGOLsjRBTm6IEcX5OiCHF2QowtKRV/J2PeZjLEAy5njVSWfPp1aZdugWrWZ9puRe8BXqlt6m3pB9QjtLh8MvGj6wKvURr3RKKeLLSJf0wU5uiBHF+ToghxdkKMLcnRB/wBIt0+4Irv7NwAAAABJRU5ErkJggg=="),this.onnx=new n}init(t){}defineBlocks(){return{test:{type:e.BlockType.Command,text:"eee",operation:async()=>{try{const{InferenceSession:t,Tensor:e}=await this.onnx.runtime,n=await t.create(`${location.href}/static/model.onnx`),o=Float32Array.from([1,2,3,4,5,6,7,8,9,10,11,12]),r=Float32Array.from([10,20,30,40,50,60,70,80,90,100,110,120]),s=new e("float32",o,[3,4]),i={a:s,b:new e("float32",r,[4,3])},a=(await n.run(i)).c.data;console.log(a)}catch(t){console.error(`failed to inference ONNX model: ${t}.`)}}}}}}return t.Extension=o,Object.defineProperty(t,"__esModule",{value:!0}),t}({},ExtensionFramework);//# sourceMappingURL=onnxTest.js.map
