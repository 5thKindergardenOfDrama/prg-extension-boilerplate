var complexprg95grpexample=function(t,e){"use strict";function n(){}function o(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(o)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function a(t,e,n){const o=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!o.getElementById(e)){const t=f("style");t.id=e,t.textContent=n,function(t,e){c(t.head||t,e),e.sheet}(o,t)}}function u(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function g(){return d(" ")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function A(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let $;function T(t){$=t}const b=[],v=[],k=[],w=[],B=Promise.resolve();let E=!1;function R(t){k.push(t)}const C=new Set;let O=0;function N(){if(0!==O)return;const t=$;do{try{for(;O<b.length;){const t=b[O];O++,T(t),j(t.$$)}}catch(t){throw b.length=0,O=0,t}for(T(null),b.length=0,O=0;v.length;)v.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];C.has(e)||(C.add(e),e())}k.length=0}while(b.length);for(;w.length;)w.pop()();E=!1,C.clear(),T(t)}function j(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}const H=new Set;function I(t,e){-1===t.$$.dirty[0]&&(b.push(t),E||(E=!0,B.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function L(t,e,s,c,a,u,m,f=[-1]){const d=$;T(t);const g=t.$$={fragment:null,ctx:[],props:u,update:n,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:r(),dirty:f,skip_bound:!1,root:e.target||d.$$.root};m&&m(g.root);let h=!1;if(g.ctx=s?s(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return g.ctx&&a(g.ctx[e],g.ctx[e]=r)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](r),h&&I(t,e)),n})):[],g.update(),h=!0,i(g.before_update),g.fragment=!!c&&c(g.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);g.fragment&&g.fragment.l(t),t.forEach(p)}else g.fragment&&g.fragment.c();e.intro&&((y=t.$$.fragment)&&y.i&&(H.delete(y),y.i(A))),function(t,e,n,r){const{fragment:s,after_update:c}=t.$$;s&&s.m(e,n),r||R((()=>{const e=t.$$.on_mount.map(o).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):i(e),t.$$.on_mount=[]})),c.forEach(R)}(t,e.target,e.anchor,e.customElement),N()}var y,A;T(d)}class U{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=n}$on(t,e){if(!l(e))return n;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function S(t){let e;return{c(){e=f("div"),e.innerHTML='<img src="https://y.yarn.co/e1c7becd-fc72-40cb-8866-2afac14e2712_text.gif" alt="Gif of &#39;Its done&#39; clip from the movie Dune"/>',x(e,"width","400px;")},m(t,n){u(t,e,n)},p:n,i:n,o:n,d(t){t&&p(e)}}}const F=t=>({type:e.BlockType.Reporter,operation:(t,e)=>t+e,args:[{type:e.ArgumentType.Number,defaultValue:3,options:t.lhsOptions},{type:e.ArgumentType.Number}],text:(t,e)=>`Add ${t} to ${e}`}),K={0:"leopard",1:"tiger",2:"gorilla",3:"monkey",4:"pig"},Q={0:"🐆",1:"🐅",2:"🦍",3:"🐒",4:"🐖"};class X extends e.Extension{constructor(){super(...arguments,null,"complexprg95grpexample","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAB8CAYAAABE3L+AAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQElEQVR4nO3dMWsUQRyG8edyZyEqqBgVJHiaUvA76CcQK3sbsbJVv0AquxSKjaWlpBS0thDBwkpFLTQgQRQtTIxnsVdJsnO3c//du3nfH1x1Ozube8JuYLJ7vdFohGlZ6voArH2OLsjRBTm6IEcXNKh7893HD+vARWC7ncOxTAeB+6tnh4/qNqqNDlwFTs/skKwNL4Ha6KnT+6fZHYu1ZCu1ga/pghxdkKMLcnRBji7I0QU5uiBHF+ToghxdkKMLcnRBqVW2HLvAZuD+SzUATkVPEGUTGFLFt8mdB95GThAZ/S/wJ3D/pfoRPUHkNX0J6Afuv1RHoifwH3KCHF2QowtydEGOLsjRBTm6IEcX5OiCHF2QowuKjL6DV9iaeB89QeQq21HgJtVqm01uOXqC6Ojrgfu3hnxNF+ToghxdkKMLcnRBji7I0QU5uiBHF+ToghxdkKMLcvTyJJs6enmS98JFLq1uAdfxenqbBsCbSTaK8hN4Erh/ayjy9D7AtyrPJV/TBTm6IEcX5OiCHF2QowtydEGOLsjRBTm6IEcX5OiCIlfZcq0AJzua+zt5T2I+Bxyf0bFM6wvwuW6DeY5+B7jR0dzPgcsZ4+8BV2ZzKFNbA27XbTDPp/cun2KRO3eXjzxP/tPKPEff6XDu35njt2dyFM0kP7d5jm5BHF2QowtydEGOLsjRBTm6IEcX5OiCHF2Qowty9L0dyxx/eCZH0UzyG5nneWk110OqteUmv9g94G7N+yPgwPj1/6rWEtXtwq/H+2lTH3ia2qjk6LeAXw3HXgKeZcx9DXicMT5Uyaf31Yyxuaf3Q5njQ5Ucve1T68IoObrtw9EFObogRxfk6IIcXZCjC3J0QY4uyNEFlRw959ak3NuSurwlK8nR95Ybvct72ZJKXlrdoHoS9bQPJd4FTmTOvUa1tNv259sDHoxf+yo5+oUO5x6OX11I/twln95VfUtt4OiCHF2QowtydEGOLsjRBTm6IEcX5OiCHF2QowtKRV/J2PeZjLEAy5njVSWfPp1aZdugWrWZ9puRe8BXqlt6m3pB9QjtLh8MvGj6wKvURr3RKKeLLSJf0wU5uiBHF+ToghxdkKMLcnRB/wBIt0+4Irv7NwAAAABJRU5ErkJggg=="),this.collection=[2],this.state=0,this.saveDataHandler=new e.SaveDataHandler({Extension:X,onSave:({collection:t,state:e})=>({collection:t,state:e}),onLoad:(t,n)=>e.copyTo({target:t,source:n})})}getAnimalCollectionEmojis(){return this.collection.map((t=>Q[t]))}addAnimalToCollection(t){return this.collection.push(t)}init(){this.lhsOptions=[3,4,5],this.animals=Object.entries(Q).map((([t,e])=>({value:parseInt(t),text:e}))),this.getAnimalCollection=()=>this.collection.map((t=>({text:Q[t],value:t})))}defineBlocks(){return{reportId:{type:e.BlockType.Reporter,text:"My Extension ID is",operation:()=>this.id},reportColorChannel:{type:e.BlockType.Reporter,args:[e.ArgumentType.Color,{type:e.ArgumentType.String,options:[{value:"r",text:"red"},{value:"g",text:"green"},{value:"b",text:"blue"}]}],text:(t,e)=>`Report ${e} of ${t}`,operation:(t,e)=>t[e]},sumMatrix:{type:"reporter",args:[e.ArgumentType.Matrix,{type:e.ArgumentType.Number,options:[{value:0,text:"rows"},{value:1,text:"columns"},{value:2,text:"rows and columns"}]}],text:(t,e)=>`Sum ${e} of ${t}`,operation:(t,e)=>{switch(e){case 0:return t.map((t=>t.reduce(((t,e)=>t+Number(e)),0))).join("\n");case 1:const e=[0,0,0,0,0];return t.forEach((t=>t.forEach(((t,n)=>{e[n]+=Number(t)})))),e.join(" ");case 2:return t.map((t=>t.reduce(((t,e)=>t+Number(e)),0))).reduce(((t,e)=>t+e),0).toString()}}},incrementStateViaThis:{type:e.BlockType.Reporter,text:"Increment (via 'this')",operation:()=>++this.state},incrementStateViaSelf:t=>({type:e.BlockType.Reporter,text:"Increment (via 'self')",operation:()=>++t.state}),selectNote:{type:e.BlockType.Reporter,arg:e.ArgumentType.Note,text:t=>`Pick note ${t}`,operation:t=>t},selectAngle:{type:e.BlockType.Reporter,arg:e.ArgumentType.Angle,text:t=>`Pick angle ${t}`,operation:t=>t},useAnimalMenu1:{type:e.BlockType.Reporter,arg:{type:e.ArgumentType.Number,options:{items:this.animals,acceptsReporters:!0,handler:t=>{switch(t){case"0":case"1":case"2":case"3":case"4":return t;default:return alert(`You silly goose! ${t} is not an animal.`),0}}}},text:t=>`This is a ${t}`,operation:t=>K[t]},useAnimalMenu2:t=>({type:e.BlockType.Reporter,arg:{type:e.ArgumentType.Number,options:t.animals},text:t=>`Where does the ${t} live?`,operation:t=>{switch(t){case 0:return"Africa and Asia";case 1:return"Asia";case 2:return"Africa";case 3:return"Africa, Asia, and South America";case 4:return"Almost everywhere (except Antartica)"}}}),addAnimalToCollection:t=>({type:e.BlockType.Command,arg:t.makeCustomArgument({component:"AnimalArgument",initial:{value:0,text:K[0]}}),text:t=>`Add ${t} to collection`,operation:t=>{this.addAnimalToCollection(t),this.openUI("Alert")}}),chooseBetweenAnimals:t=>({type:e.BlockType.Reporter,arg:{type:e.ArgumentType.Number,options:t.getAnimalCollection},text:t=>`Animals in collection: ${t}`,operation:t=>K[t]}),multiplyUsingSelf:this.multiplyUsingSelf,multiplyUsingThis:this.multiplyUsingThis.bind(this),add:F,showAnimalCollectionUI:{type:e.BlockType.Button,text:"Show Animal Collection",operation:()=>{this.openUI("Animals","Here's your animal collection")}}}}multiplyUsingSelf(t){return{type:e.BlockType.Reporter,args:[{type:e.ArgumentType.Number,defaultValue:3,options:t.lhsOptions},e.ArgumentType.Number],text:(t,e)=>`${t} X ${e}`,operation:(t,e)=>t*e}}multiplyUsingThis(){return{type:e.BlockType.Reporter,args:[{type:e.ArgumentType.Number,defaultValue:3,options:this.lhsOptions},e.ArgumentType.Number],text:(t,e)=>`${t} X ${e}`,operation:(t,e)=>t*e}}}function _(t,e,n){const o=t.slice();return o[6]=e[n],o}function J(t){let e,n,o,r,i=Q[t[6]]+"";function l(){return t[5](t[6])}return{c(){e=f("button"),n=d(i)},m(t,i){u(t,e,i),c(e,n),o||(r=h(e,"click",l),o=!0)},p(e,n){t=e},d(t){t&&p(e),o=!1,r()}}}function M(t){let e,o,r,i,l,s=Object.keys(Q),a=[];for(let e=0;e<s.length;e+=1)a[e]=J(_(t,s,e));return{c(){e=f("div");for(let t=0;t<a.length;t+=1)a[t].c();o=g(),r=f("center"),i=f("p"),l=d(t[1])},m(t,n){u(t,e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null);c(e,o),c(e,r),c(r,i),c(i,l)},p(t,[n]){if(1&n){let r;for(s=Object.keys(Q),r=0;r<s.length;r+=1){const i=_(t,s,r);a[r]?a[r].p(i,n):(a[r]=J(i),a[r].c(),a[r].m(e,o))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}2&n&&A(l,t[1])},i:n,o:n,d(t){t&&p(e),m(a,t)}}}function P(t,e,n){let o,{setter:r}=e,{current:i}=e,{extension:l}=e,s=i.value;return t.$$set=t=>{"setter"in t&&n(2,r=t.setter),"current"in t&&n(3,i=t.current),"extension"in t&&n(4,l=t.extension)},t.$$.update=()=>{1&t.$$.dirty&&n(1,o=K[s]),7&t.$$.dirty&&r({value:s,text:o})},[s,o,r,i,l,t=>n(0,s=parseInt(t))]}function D(t){a(t,"svelte-o54gka",".container.svelte-o54gka{width:360px;padding:10px}button.svelte-o54gka{border-radius:10px;font-size:40px}")}function V(t,e,n){const o=t.slice();return o[6]=e[n],o}function q(t,e,n){const o=t.slice();return o[9]=e[n][0],o[10]=e[n][1],o}function Z(t){let e,n,o,r,i,l=t[10]+"",s=t[9]+"",a=t[10]>1?"s":"";return{c(){e=f("li"),n=d(l),o=g(),r=d(s),i=d(a)},m(t,l){u(t,e,l),c(e,n),c(e,o),c(e,r),c(e,i)},p(t,e){2&e&&l!==(l=t[10]+"")&&A(n,l),2&e&&s!==(s=t[9]+"")&&A(r,s),2&e&&a!==(a=t[10]>1?"s":"")&&A(i,a)},d(t){t&&p(e)}}}function G(t){let e,n,o,r,i,l,s=t[6].text+"";function a(){return t[4](t[6])}return{c(){e=f("button"),n=f("span"),n.textContent="+",o=d(s),r=g(),x(n,"font-size","20px"),y(e,"class","svelte-o54gka")},m(t,s){u(t,e,s),c(e,n),c(e,o),c(e,r),i||(l=h(e,"click",a),i=!0)},p(e,n){t=e,1&n&&s!==(s=t[6].text+"")&&A(o,s)},d(t){t&&p(e),i=!1,l()}}}function W(t){let o,r,i,l,s=[...t[1]],a=[];for(let e=0;e<s.length;e+=1)a[e]=Z(q(t,s,e));let d=t[0].animals,h=[];for(let e=0;e<d.length;e+=1)h[e]=G(V(t,d,e));return{c(){o=f("div"),r=f("ul");for(let t=0;t<a.length;t+=1)a[t].c();i=g(),l=f("center");for(let t=0;t<h.length;t+=1)h[t].c();y(o,"class","svelte-o54gka"),function(t,e,n){t.classList[n?"add":"remove"](e)}(o,"container",z),x(o,"background-color",e.color.ui.white)},m(t,e){u(t,o,e),c(o,r);for(let t=0;t<a.length;t+=1)a[t].m(r,null);c(o,i),c(o,l);for(let t=0;t<h.length;t+=1)h[t].m(l,null)},p(t,[e]){if(2&e){let n;for(s=[...t[1]],n=0;n<s.length;n+=1){const o=q(t,s,n);a[n]?a[n].p(o,e):(a[n]=Z(o),a[n].c(),a[n].m(r,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}if(5&e){let n;for(d=t[0].animals,n=0;n<d.length;n+=1){const o=V(t,d,n);h[n]?h[n].p(o,e):(h[n]=G(o),h[n].c(),h[n].m(l,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=d.length}},i:n,o:n,d(t){t&&p(o),m(a,t),m(h,t)}}}const z=!0;function Y(t,n,o){let{extension:r}=n,{close:i}=n;const l=(t,...n)=>e.reactiveInvoke(o(0,r),t,n);let s;return t.$$set=t=>{"extension"in t&&o(0,r=t.extension),"close"in t&&o(3,i=t.close)},t.$$.update=()=>{1&t.$$.dirty&&(t=>{o(1,s=new Map);for(const t of l("getAnimalCollectionEmojis"))s.set(t,s.has(t)?s.get(t)+1:1)})()},[r,s,l,i,t=>l("addAnimalToCollection",t.value)]}return t.Alert=class extends U{constructor(t){super(),L(this,t,null,S,s,{})}},t.AnimalArgument=class extends U{constructor(t){super(),L(this,t,P,M,s,{setter:2,current:3,extension:4})}},t.Animals=class extends U{constructor(t){super(),L(this,t,Y,W,s,{extension:0,close:3},D)}},t.Extension=X,Object.defineProperty(t,"__esModule",{value:!0}),t}({},ExtensionFramework);//# sourceMappingURL=complexprg95grpexample.js.map
