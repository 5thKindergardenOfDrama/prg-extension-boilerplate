var projectProbe=function(e,t){"use strict";function n(){}function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c,l;function f(e,t){e.appendChild(t)}function d(e,t,n){const r=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!r.getElementById(t)){const e=m("style");e.id=t,e.textContent=n,function(e,t){f(e.head||e,t),t.sheet}(r,e)}}function u(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function w(e){return document.createTextNode(e)}function g(){return w(" ")}function y(){return w("")}function v(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e,t){e.value=null==t?"":t}function E(e){l=e}function k(e){(function(){if(!l)throw new Error("Function called outside component initialization");return l})().$$.on_mount.push(e)}const z=[],A=[],j=[],L=[],S=Promise.resolve();let B=!1;function _(e){j.push(e)}const O=new Set;let N=0;function F(){if(0!==N)return;const e=l;do{try{for(;N<z.length;){const e=z[N];N++,E(e),U(e.$$)}}catch(e){throw z.length=0,N=0,e}for(E(null),z.length=0,N=0;A.length;)A.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];O.has(t)||(O.add(t),t())}j.length=0}while(z.length);for(;L.length;)L.pop()();B=!1,O.clear(),E(e)}function U(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_)}}const P=new Set;let M;function R(e,t){e&&e.i&&(P.delete(e),e.i(t))}function C(e,t,n,r){if(e&&e.o){if(P.has(e))return;P.add(e),M.c.push((()=>{P.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function T(e,t,n,o){const{fragment:a,after_update:c}=e.$$;a&&a.m(t,n),o||_((()=>{const t=e.$$.on_mount.map(r).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),c.forEach(_)}function D(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function J(e,t){-1===e.$$.dirty[0]&&(z.push(e),B||(B=!0,S.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function W(e,t,r,s,a,c,f,d=[-1]){const u=l;E(e);const h=e.$$={fragment:null,ctx:[],props:c,update:n,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:o(),dirty:d,skip_bound:!1,root:t.target||u.$$.root};f&&f(h.root);let m=!1;if(h.ctx=r?r(e,t.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),m&&J(e,t)),n})):[],h.update(),m=!0,i(h.before_update),h.fragment=!!s&&s(h.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);h.fragment&&h.fragment.l(e),e.forEach(p)}else h.fragment&&h.fragment.c();t.intro&&R(e.$$.fragment),T(e,t.target,t.anchor,t.customElement),F()}E(u)}class H{$destroy(){D(this,1),this.$destroy=n}$on(e,t){if(!s(t))return n;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function I(e){return e.arrayBuffer?e.arrayBuffer():new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("loadend",(()=>{t(r.result)})),r.addEventListener("error",n),r.readAsArrayBuffer(e)}))}async function q(e){const t=await I(e);return new Uint8Array(t)}function V(e){return"undefined"!=typeof Blob&&e instanceof Blob}function G(e){return"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}const X="undefined"!=typeof process&&process.versions&&void 0!==process.versions.node&&void 0===process.versions.electron;class Z{constructor(e){this.typedArray=e instanceof ArrayBuffer||G(e)?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}async getLength(){return this.typedArray.byteLength}async read(e,t){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+e,t)}}class K{constructor(e){this.blob=e}async getLength(){return this.blob.size}async read(e,t){const n=this.blob.slice(e,e+t),r=await I(n);return new Uint8Array(r)}async sliceAsBlob(e,t,n=""){return this.blob.slice(e,e+t,n)}}function Q(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r}function Y(e,t,n,r,o,i){for(var s=oe,a=se,c=0;c<n;){var l=e[a(r,o)&t];o+=15&l;var f=l>>>4;if(f<=15)i[c]=f,c++;else{var d=0,u=0;16==f?(u=3+s(r,o,2),o+=2,d=i[c-1]):17==f?(u=3+s(r,o,3),o+=3):18==f&&(u=11+s(r,o,7),o+=7);for(var p=c+u;c<p;)i[c]=d,c++}}return o}function ee(e,t,n,r){for(var o=0,i=0,s=r.length>>>1;i<n;){var a=e[i+t];r[i<<1]=0,r[1+(i<<1)]=a,a>o&&(o=a),i++}for(;i<s;)r[i<<1]=0,r[1+(i<<1)]=0,i++;return o}function te(e,t){for(var n,r,o,i,s=e.length,a=ae.bl_count,c=0;c<=t;c++)a[c]=0;for(c=1;c<s;c+=2)a[e[c]]++;var l=ae.next_code;for(n=0,a[0]=0,r=1;r<=t;r++)n=n+a[r-1]<<1,l[r]=n;for(o=0;o<s;o+=2)0!=(i=e[o+1])&&(e[o]=l[i],l[i]++)}function ne(e,t,n){for(var r=e.length,o=ae.rev15,i=0;i<r;i+=2)if(0!=e[i+1])for(var s=i>>1,a=e[i+1],c=s<<4|a,l=t-a,f=e[i]<<l,d=f+(1<<l);f!=d;){n[o[f]>>>15-t]=c,f++}}function re(e,t){for(var n=ae.rev15,r=15-t,o=0;o<e.length;o+=2){var i=e[o]<<t-e[o+1];e[o]=n[i]>>>r}}function oe(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1}function ie(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1}function se(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)}const ae=(ce=Uint16Array,le=Uint32Array,{next_code:new ce(16),bl_count:new ce(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new ce(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new le(32),flmap:new ce(512),fltree:[],fdmap:new ce(32),fdtree:[],lmap:new ce(32768),ltree:[],ttree:[],dmap:new ce(32768),dtree:[],imap:new ce(512),itree:[],rev15:new ce(32768),lhst:new le(286),dhst:new le(30),ihst:new le(19),lits:new le(15e3),strt:new ce(65536),prev:new ce(32768)});var ce,le;!function(){for(var e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,ae.rev15[e]=(t>>>16|t<<16)>>>17}function n(e,t,n){for(;0!=t--;)e.push(0,n)}for(e=0;e<32;e++)ae.ldef[e]=ae.of0[e]<<3|ae.exb[e],ae.ddef[e]=ae.df0[e]<<4|ae.dxb[e];n(ae.fltree,144,8),n(ae.fltree,112,9),n(ae.fltree,24,7),n(ae.fltree,8,8),te(ae.fltree,9),ne(ae.fltree,9,ae.flmap),re(ae.fltree,9),n(ae.fdtree,32,5),te(ae.fdtree,5),ne(ae.fdtree,5,ae.fdmap),re(ae.fdtree,5),n(ae.itree,19,0),n(ae.ltree,286,0),n(ae.dtree,30,0),n(ae.ttree,320,0)}();const fe={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var o=0;o<r;o++)e=fe.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^fe.update(4294967295,e,t,n)}};function de(e,t){return function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var r=ie,o=oe,i=Y,s=se,a=null==t;a&&(t=new n(e.length>>>2<<3));for(var c,l,f=0,d=0,u=0,p=0,h=0,m=0,w=0,g=0,y=0;0==f;)if(f=r(e,y,1),d=r(e,y+1,2),y+=3,0!=d){if(a&&(t=Q(t,g+(1<<17))),1==d&&(c=ae.flmap,l=ae.fdmap,m=511,w=31),2==d){u=o(e,y,5)+257,p=o(e,y+5,5)+1,h=o(e,y+10,4)+4,y+=14;for(var v=0;v<38;v+=2)ae.itree[v]=0,ae.itree[v+1]=0;var b=1;for(v=0;v<h;v++){var x=o(e,y+3*v,3);ae.itree[1+(ae.ordr[v]<<1)]=x,x>b&&(b=x)}y+=3*h,te(ae.itree,b),ne(ae.itree,b,ae.imap),c=ae.lmap,l=ae.dmap,y=i(ae.imap,(1<<b)-1,u+p,e,y,ae.ttree);var $=ee(ae.ttree,0,u,ae.ltree);m=(1<<$)-1;var E=ee(ae.ttree,u,p,ae.dtree);w=(1<<E)-1,te(ae.ltree,$),ne(ae.ltree,$,c),te(ae.dtree,E),ne(ae.dtree,E,l)}for(;;){var k=c[s(e,y)&m];y+=15&k;var z=k>>>4;if(z>>>8==0)t[g++]=z;else{if(256==z)break;var A=g+z-254;if(z>264){var j=ae.ldef[z-257];A=g+(j>>>3)+o(e,y,7&j),y+=7&j}var L=l[s(e,y)&w];y+=15&L;var S=L>>>4,B=ae.ddef[S],_=(B>>>4)+r(e,y,15&B);for(y+=15&B,a&&(t=Q(t,g+(1<<17)));g<A;)t[g]=t[g++-_],t[g]=t[g++-_],t[g]=t[g++-_],t[g]=t[g++-_];g=A}}}else{0!=(7&y)&&(y+=8-(7&y));var O=4+(y>>>3),N=e[O-4]|e[O-3]<<8;a&&(t=Q(t,g+N)),t.set(new n(e.buffer,e.byteOffset+O,N),g),y=O+N<<3,g+=N}return t.length==g?t:t.slice(0,g)}(e,t)}const ue={numWorkers:1,workerURL:"",useWorkers:!1};let pe=0;const he=[];function me(e){return new Promise(((t,n)=>{const r=new Worker(e);r.onmessage=e=>{"start"===e.data?(r.onerror=void 0,r.onmessage=void 0,t(r)):n(new Error(`unexpected message: ${e.data}`))},r.onerror=n}))}function we(e,t,n,r){const o=new Uint8Array(t);de(e,o),r(n?new Blob([o],{type:n}):o.buffer)}function ge(e,t,n){return new Promise(((r,o)=>{he.push({src:e,uncompressedSize:t,type:n,resolve:r,reject:o,id:pe++}),async function(){if(0!==he.length)for(;he.length;){const{src:e,uncompressedSize:t,type:n,resolve:r}=he.shift();let o=e;V(e)&&(o=await q(e)),we(o,t,n,r)}}()}))}!function(){if(X){const{Worker:n}=(e=module,t="worker_threads",e.require?e.require(t):{});return{createWorker:async e=>new n(e),addEventListener(e,t){e.on("message",(n=>{t({target:e,data:n})}))},async terminate(e){await e.terminate()}}}return{async createWorker(e){try{return await me(e)}catch(t){console.warn("could not load worker:",e)}let t;try{const n=await fetch(e,{mode:"cors"});if(!n.ok)throw new Error(`could not load: ${e}`);t=await n.text(),e=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));const r=await me(e);return ue.workerURL=e,r}catch(t){console.warn("could not load worker via fetch:",e)}if(void 0!==t)try{e=`data:application/javascript;base64,${btoa(t)}`;const n=await me(e);return ue.workerURL=e,n}catch(e){console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(e,t){e.addEventListener("message",t)},async terminate(e){e.terminate()}};var e,t}();class ye{constructor(e,t){var n,r;this._reader=e,this._rawEntry=t,this.name=t.name,this.nameBytes=t.nameBytes,this.size=t.uncompressedSize,this.compressedSize=t.compressedSize,this.comment=t.comment,this.commentBytes=t.commentBytes,this.compressionMethod=t.compressionMethod,this.lastModDate=(n=t.lastModFileDate,r=t.lastModFileTime,new Date(1980+(n>>9&127),(n>>5&15)-1,31&n,r>>11&31,r>>5&63,2*(31&r),0)),this.isDirectory=0===t.uncompressedSize&&t.name.endsWith("/"),this.encrypted=!!(1&t.generalPurposeBitFlag),this.externalFileAttributes=t.externalFileAttributes,this.versionMadeBy=t.versionMadeBy}async blob(e="application/octet-stream"){return await async function(e,t,n){const{decompress:r,fileDataStart:o}=await Ue(e,t);if(!r){const r=await ke(e,o,t.compressedSize,n);return V(r)?r:new Blob([G(r.buffer)?new Uint8Array(r):r],{type:n})}const i=await ke(e,o,t.compressedSize),s=await ge(i,t.uncompressedSize,n);return s}(this._reader,this._rawEntry,e)}async arrayBuffer(){return await async function(e,t){const{decompress:n,fileDataStart:r}=await Ue(e,t);if(!n){const n=await Ee(e,r,t.compressedSize);return 0===(o=n).byteOffset&&o.byteLength===o.buffer.byteLength?n.buffer:n.slice().buffer}var o;const i=await ke(e,r,t.compressedSize);return await ge(i,t.uncompressedSize)}(this._reader,this._rawEntry)}async text(){const e=await this.arrayBuffer();return Be(new Uint8Array(e))}async json(){const e=await this.text();return JSON.parse(e)}}const ve=22,be=65535,xe=101010256,$e=101075792;async function Ee(e,t,n){return await e.read(t,n)}async function ke(e,t,n,r){return e.sliceAsBlob?await e.sliceAsBlob(t,n,r):await e.read(t,n)}const ze={unsigned:()=>0};function Ae(e,t){return e[t]+256*e[t+1]}function je(e,t){return e[t]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]}function Le(e,t){return je(e,t)+4294967296*je(e,t+4)}const Se=new TextDecoder;function Be(e,t){return G(e.buffer)&&(e=new Uint8Array(e)),Se.decode(e)}const _e=117853008;async function Oe(e,t,n,r){const o=t-20,i=await Ee(e,o,20);if(je(i,0)!==_e)throw new Error("invalid zip64 end of central directory locator signature");const s=Le(i,8),a=await Ee(e,s,56);if(je(a,0)!==$e)throw new Error("invalid zip64 end of central directory record signature");const c=Le(a,32),l=Le(a,40);return Fe(e,Le(a,48),l,c,n,r)}const Ne=33639248;async function Fe(e,t,n,r,o,i){let s=0;const a=await Ee(e,t,n),c=[];for(let e=0;e<r;++e){const e=a.subarray(s,s+46),t=je(e,0);if(t!==Ne)throw new Error(`invalid central directory file header signature: 0x${t.toString(16)}`);const n={versionMadeBy:Ae(e,4),versionNeededToExtract:Ae(e,6),generalPurposeBitFlag:Ae(e,8),compressionMethod:Ae(e,10),lastModFileTime:Ae(e,12),lastModFileDate:Ae(e,14),crc32:je(e,16),compressedSize:je(e,20),uncompressedSize:je(e,24),fileNameLength:Ae(e,28),extraFieldLength:Ae(e,30),fileCommentLength:Ae(e,32),internalFileAttributes:Ae(e,36),externalFileAttributes:je(e,38),relativeOffsetOfLocalHeader:je(e,42)};if(64&n.generalPurposeBitFlag)throw new Error("strong encryption is not supported");s+=46;const r=a.subarray(s,s+n.fileNameLength+n.extraFieldLength+n.fileCommentLength);n.nameBytes=r.slice(0,n.fileNameLength),n.name=Be(n.nameBytes);const o=n.fileNameLength+n.extraFieldLength,i=r.slice(n.fileNameLength,o);n.extraFields=[];let l=0;for(;l<i.length-3;){const e=Ae(i,l+0),t=l+4,r=t+Ae(i,l+2);if(r>i.length)throw new Error("extra field length exceeds extra field buffer size");n.extraFields.push({id:e,data:i.slice(t,r)}),l=r}if(n.commentBytes=r.slice(o,o+n.fileCommentLength),n.comment=Be(n.commentBytes),s+=r.length,4294967295===n.uncompressedSize||4294967295===n.compressedSize||4294967295===n.relativeOffsetOfLocalHeader){const e=n.extraFields.find((e=>1===e.id));if(!e)throw new Error("expected zip64 extended information extra field");const t=e.data;let r=0;if(4294967295===n.uncompressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include uncompressed size");n.uncompressedSize=Le(t,r),r+=8}if(4294967295===n.compressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include compressed size");n.compressedSize=Le(t,r),r+=8}if(4294967295===n.relativeOffsetOfLocalHeader){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include relative header offset");n.relativeOffsetOfLocalHeader=Le(t,r),r+=8}}const f=n.extraFields.find((e=>28789===e.id&&e.data.length>=6&&1===e.data[0]&&je(e.data,1)),ze.unsigned(n.nameBytes));if(f&&(n.fileName=Be(f.data.slice(5))),0===n.compressionMethod){let e=n.uncompressedSize;if(0!=(1&n.generalPurposeBitFlag)&&(e+=12),n.compressedSize!==e)throw new Error(`compressed size mismatch for stored file: ${n.compressedSize} != ${e}`)}c.push(n)}return{zip:{comment:o,commentBytes:i},entries:c.map((t=>new ye(e,t)))}}async function Ue(e,t){if(1&t.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const n=await Ee(e,t.relativeOffsetOfLocalHeader,30),r=await e.getLength(),o=je(n,0);if(67324752!==o)throw new Error(`invalid local file header signature: 0x${o.toString(16)}`);const i=Ae(n,26),s=Ae(n,28),a=t.relativeOffsetOfLocalHeader+n.length+i+s;let c;if(0===t.compressionMethod)c=!1;else{if(8!==t.compressionMethod)throw new Error(`unsupported compression method: ${t.compressionMethod}`);c=!0}const l=a,f=l+t.compressedSize;if(0!==t.compressedSize&&f>r)throw new Error(`file data overflows file bounds: ${l} +  ${t.compressedSize}  > ${r}`);return{decompress:c,fileDataStart:l}}async function Pe(e){let t;if("undefined"!=typeof Blob&&e instanceof Blob)t=new K(e);else if(e instanceof ArrayBuffer||e&&e.buffer&&e.buffer instanceof ArrayBuffer)t=new Z(e);else if(G(e)||G(e.buffer))t=new Z(e);else if("string"==typeof e){const n=await fetch(e);if(!n.ok)throw new Error(`failed http request ${e}, status: ${n.status}: ${n.statusText}`);const r=await n.blob();t=new K(r)}else{if("function"!=typeof e.getLength||"function"!=typeof e.read)throw new Error("unsupported source type");t=e}const n=await t.getLength();if(n>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${n}. Only file sizes up 4503599627370496 bytes are supported`);return await async function(e,t){const n=Math.min(ve+be,t),r=t-n,o=await Ee(e,r,n);for(let t=n-ve;t>=0;--t){if(je(o,t)!==xe)continue;const n=new Uint8Array(o.buffer,o.byteOffset+t,o.byteLength-t),i=Ae(n,4);if(0!==i)throw new Error(`multi-volume zip files are not supported. This is volume: ${i}`);const s=Ae(n,10),a=je(n,12),c=je(n,16),l=Ae(n,20),f=n.length-ve;if(l!==f)throw new Error(`invalid comment length. expected: ${f}, actual: ${l}`);const d=new Uint8Array(n.buffer,n.byteOffset+22,l),u=Be(d);return 65535===s||4294967295===c?await Oe(e,r+t,u,d):await Fe(e,c,a,s,u,d)}throw new Error("could not find end of central directory. maybe not zip file")}(t,n)}const Me={name:"Project Probe",description:"(INTERNAL) An extension for probing the contents of .sb3 files"};var Re=(()=>{var e;let n,r=[];return e=class extends(t.extension(Me,"ui")){constructor(){super(...arguments,...["Project Probe","projectProbe","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAB8CAYAAABE3L+AAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQElEQVR4nO3dMWsUQRyG8edyZyEqqBgVJHiaUvA76CcQK3sbsbJVv0AquxSKjaWlpBS0thDBwkpFLTQgQRQtTIxnsVdJsnO3c//du3nfH1x1Ozube8JuYLJ7vdFohGlZ6voArH2OLsjRBTm6IEcXNKh7893HD+vARWC7ncOxTAeB+6tnh4/qNqqNDlwFTs/skKwNL4Ha6KnT+6fZHYu1ZCu1ga/pghxdkKMLcnRBji7I0QU5uiBHF+ToghxdkKMLcnRBqVW2HLvAZuD+SzUATkVPEGUTGFLFt8mdB95GThAZ/S/wJ3D/pfoRPUHkNX0J6Afuv1RHoifwH3KCHF2QowtydEGOLsjRBTm6IEcX5OiCHF2QowuKjL6DV9iaeB89QeQq21HgJtVqm01uOXqC6Ojrgfu3hnxNF+ToghxdkKMLcnRBji7I0QU5uiBHF+ToghxdkKMLcvTyJJs6enmS98JFLq1uAdfxenqbBsCbSTaK8hN4Erh/ayjy9D7AtyrPJV/TBTm6IEcX5OiCHF2QowtydEGOLsjRBTm6IEcX5OiCIlfZcq0AJzua+zt5T2I+Bxyf0bFM6wvwuW6DeY5+B7jR0dzPgcsZ4+8BV2ZzKFNbA27XbTDPp/cun2KRO3eXjzxP/tPKPEff6XDu35njt2dyFM0kP7d5jm5BHF2QowtydEGOLsjRBTm6IEcX5OiCHF2Qowty9L0dyxx/eCZH0UzyG5nneWk110OqteUmv9g94G7N+yPgwPj1/6rWEtXtwq/H+2lTH3ia2qjk6LeAXw3HXgKeZcx9DXicMT5Uyaf31Yyxuaf3Q5njQ5Ucve1T68IoObrtw9EFObogRxfk6IIcXZCjC3J0QY4uyNEFlRw959ak3NuSurwlK8nR95Ybvct72ZJKXlrdoHoS9bQPJd4FTmTOvUa1tNv259sDHoxf+yo5+oUO5x6OX11I/twln95VfUtt4OiCHF2QowtydEGOLsjRBTm6IEcX5OiCHF2QowtKRV/J2PeZjLEAy5njVSWfPp1aZdugWrWZ9puRe8BXqlt6m3pB9QjtLh8MvGj6wKvURr3RKKeLLSJf0wU5uiBHF+ToghxdkKMLcnRB/wBIt0+4Irv7NwAAAABJRU5ErkJggg=="]),this.projectJson=void function(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e)}(this,r)}init(e){}async probeProject(e){if(e.includes("dropbox.com")){const t=/\/s\/[A-Za-z0-9]+\/.*.sb3/,n=e.match(t);n.length>0&&(e="https://dl.dropboxusercontent.com"+n[0])}const{entries:t}=await async function(e){const{zip:t,entries:n}=await Pe(e);return{zip:t,entries:Object.fromEntries(n.map((e=>[e.name,e])))}}(e),n=t["project.json"],r=await n.json();this.currentEntries=t,this.projectJson=JSON.stringify(r,null,3),this.openUI("ProjectView")}async downloadUpdatedProjectJson(e){}},n=[t.block({type:"command",arg:"string",text:e=>`Probe & modify project JSON from ${e}`})],function(e,t,n,r,o,i){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",f=!t&&e?r.static?e:e.prototype:null,d=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),u=!1,p=n.length-1;p>=0;p--){var h={};for(var m in r)h[m]="access"===m?{}:r[m];for(var m in r.access)h.access[m]=r.access[m];h.addInitializer=function(e){if(u)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(e||null))};var w=(0,n[p])("accessor"===c?{get:d.get,set:d.set}:d[l],h);if("accessor"===c){if(void 0===w)continue;if(null===w||"object"!=typeof w)throw new TypeError("Object expected");(a=s(w.get))&&(d.get=a),(a=s(w.set))&&(d.set=a),(a=s(w.init))&&o.push(a)}else(a=s(w))&&("field"===c?o.push(a):d[l]=a)}f&&Object.defineProperty(f,r.name,d),u=!0}(e,null,n,{kind:"method",name:"probeProject",static:!1,private:!1,access:{has:e=>"probeProject"in e,get:e=>e.probeProject}},null,r),e})();function Ce(e){d(e,"svelte-1mfppcc","button.svelte-1mfppcc{margin-top:0px}")}function Te(e){let t,r,o,i;return{c(){t=m("center"),r=m("button"),r.textContent="Copy Snippet",b(r,"class","svelte-1mfppcc")},m(n,s){u(n,t,s),f(t,r),o||(i=v(r,"click",e[4]),o=!0)},p:n,d(e){e&&p(t),o=!1,i()}}}function De(e){let t,r,o,i;return{c(){t=m("center"),r=m("button"),r.textContent="Copy Snippet",b(r,"class","svelte-1mfppcc")},m(n,s){u(n,t,s),f(t,r),o||(i=v(r,"click",e[5]),o=!0)},p:n,d(e){e&&p(t),o=!1,i()}}}function Je(e){let t,r,o,s,a,l,d,h,$,E,k,z,A="top"===e[1]&&Te(e),j=!0===e[1]&&De(e);return{c(){var n,i;t=m("link"),r=m("script"),s=g(),A&&A.c(),a=g(),l=m("pre"),d=m("code"),h=w(e[0]),$=g(),j&&j.c(),E=y(),b(t,"rel","stylesheet"),b(t,"href","https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/vs2015.min.css"),n=r.src,i=o="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js",c||(c=document.createElement("a")),c.href=i,n!==c.href&&b(r,"src","https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"),b(d,"class","language-typescript")},m(n,o){f(document.head,t),f(document.head,r),u(n,s,o),A&&A.m(n,o),u(n,a,o),u(n,l,o),f(l,d),f(d,h),u(n,$,o),j&&j.m(n,o),u(n,E,o),k||(z=[v(t,"load",e[3]),v(r,"load",e[3])],k=!0)},p(e,[t]){"top"===e[1]?A?A.p(e,t):(A=Te(e),A.c(),A.m(a.parentNode,a)):A&&(A.d(1),A=null),1&t&&x(h,e[0]),!0===e[1]?j?j.p(e,t):(j=De(e),j.c(),j.m(E.parentNode,E)):j&&(j.d(1),j=null)},i:n,o:n,d(e){p(t),p(r),e&&p(s),A&&A.d(e),e&&p(a),e&&p(l),e&&p($),j&&j.d(e),e&&p(E),k=!1,i(z)}}}function We(e,t,n){let{code:r}=t,{copyable:o=!0}=t;const i=e=>navigator.clipboard.writeText(e),s=()=>window.hljs?.highlightAll();k(s);return e.$$set=e=>{"code"in e&&n(0,r=e.code),"copyable"in e&&n(1,o=e.copyable)},[r,o,i,s,()=>i(r),()=>i(r)]}class He extends H{constructor(e){super(),W(this,e,We,Je,a,{code:0,copyable:1},Ce)}}function Ie(e){d(e,"svelte-awk6rd",".container.svelte-awk6rd{padding:30px;height:80vh;width:80vw;overflow:scroll}.matches.svelte-awk6rd{background-color:white}.find.svelte-awk6rd{background-color:yellow;display:inline-block}.replace.svelte-awk6rd{background-color:rgb(168, 80, 186);font-style:italic;display:inline-block}")}function qe(e,t,n){const r=e.slice();return r[16]=t[n],r}function Ve(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Ge(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Xe(e){let t,n=e[8],r=[];for(let t=0;t<n.length;t+=1)r[t]=nt(qe(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=y()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,o){if(292&o){let i;for(n=e[8],i=0;i<n.length;i+=1){const s=qe(e,n,i);r[i]?r[i].p(s,o):(r[i]=nt(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){h(r,e),e&&p(t)}}}function Ze(e){let t,n=e[16].split(e[2]),r=[];for(let t=0;t<n.length;t+=1)r[t]=Ye(Ve(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=y()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,o){if(260&o){let i;for(n=e[16].split(e[2]),i=0;i<n.length;i+=1){const s=Ve(e,n,i);r[i]?r[i].p(s,o):(r[i]=Ye(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){h(r,e),e&&p(t)}}}function Ke(e){let t,n=e[16].split(e[2]),r=[];for(let t=0;t<n.length;t+=1)r[t]=tt(Ge(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=y()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,o){if(292&o){let i;for(n=e[16].split(e[2]),i=0;i<n.length;i+=1){const s=Ge(e,n,i);r[i]?r[i].p(s,o):(r[i]=tt(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){h(r,e),e&&p(t)}}}function Qe(e){let t,n,r;return{c(){t=m("div"),n=w(e[2]),r=g(),b(t,"class","find svelte-awk6rd")},m(e,o){u(e,t,o),f(t,n),f(t,r)},p(e,t){4&t&&x(n,e[2])},d(e){e&&p(t)}}}function Ye(e){let t,n,r,o=e[19]+"",i=e[21]<e[16].split(e[2]).length-1,s=i&&Qe(e);return{c(){t=w(o),n=g(),s&&s.c(),r=y()},m(e,o){u(e,t,o),u(e,n,o),s&&s.m(e,o),u(e,r,o)},p(e,n){260&n&&o!==(o=e[19]+"")&&x(t,o),260&n&&(i=e[21]<e[16].split(e[2]).length-1),i?s?s.p(e,n):(s=Qe(e),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(e){e&&p(t),e&&p(n),s&&s.d(e),e&&p(r)}}}function et(e){let t,n,r;return{c(){t=m("div"),n=w(e[5]),r=g(),b(t,"class","replace svelte-awk6rd")},m(e,o){u(e,t,o),f(t,n),f(t,r)},p(e,t){32&t&&x(n,e[5])},d(e){e&&p(t)}}}function tt(e){let t,n,r=e[19]+"",o=e[21]<e[16].split(e[2]).length-1,i=o&&et(e);return{c(){t=w(r),i&&i.c(),n=y()},m(e,r){u(e,t,r),i&&i.m(e,r),u(e,n,r)},p(e,s){260&s&&r!==(r=e[19]+"")&&x(t,r),260&s&&(o=e[21]<e[16].split(e[2]).length-1),o?i?i.p(e,s):(i=et(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){e&&p(t),i&&i.d(e),e&&p(n)}}}function nt(e){let t,n;function r(e,t){return e[5]?Ke:Ze}let o=r(e),i=o(e);return{c(){t=m("div"),i.c(),n=g()},m(e,r){u(e,t,r),i.m(t,null),f(t,n)},p(e,s){o===(o=r(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t,n)))},d(e){e&&p(t),i.d()}}}function rt(e){let t,n;return t=new He({props:{code:e[1],copyable:"top"}}),{c(){var e;(e=t.$$.fragment)&&e.c()},m(e,r){T(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.code=e[1]),t.$set(r)},i(e){n||(R(t.$$.fragment,e),n=!0)},o(e){C(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function ot(e){let t,r,o;return{c(){t=m("textarea")},m(n,i){u(n,t,i),$(t,e[1]),r||(o=v(t,"input",e[15]),r=!0)},p(e,n){2&n&&$(t,e[1])},i:n,o:n,d(e){e&&p(t),r=!1,o()}}}function it(e){let t,n,r,o,s,a,c,l,d,h,y,E,k,z,A,j,L,S,B,_,O,N,F,U,P,T,D,J,W,H,I,q,V=e[3]&&Xe(e);const G=[ot,rt],X=[];function Z(e,t){return e[6]?0:1}return J=Z(e),W=X[J]=G[J](e),{c(){t=m("div"),n=m("div"),r=w("Find: "),o=m("input"),s=w("\n    Replace: "),a=m("input"),c=g(),l=m("button"),l.textContent="execute",d=g(),h=m("div"),y=m("i"),E=w(e[7]),k=w(" matches"),z=g(),A=m("div"),V&&V.c(),j=g(),L=m("div"),S=m("center"),B=m("button"),B.textContent="Download Updated Project",_=w("\n  Editable "),O=w(e[6]),N=g(),F=m("label"),U=m("input"),P=g(),T=m("span"),D=g(),W.c(),b(A,"class","matches svelte-awk6rd"),b(U,"type","checkbox"),b(T,"class","slider round"),b(F,"class","switch"),b(t,"class","svelte-awk6rd"),function(e,t,n){e.classList[n?"add":"remove"](t)}(t,"container",e[9])},m(i,p){u(i,t,p),f(t,n),f(n,r),f(n,o),$(o,e[2]),f(n,s),f(n,a),$(a,e[5]),f(n,c),f(n,l),f(t,d),f(t,h),f(h,y),f(y,E),f(y,k),f(t,z),f(t,A),V&&V.m(A,null),f(t,j),f(t,L),f(L,S),f(S,B),f(t,_),f(t,O),f(t,N),f(t,F),f(F,U),U.checked=e[6],f(F,P),f(F,T),f(t,D),X[J].m(t,null),H=!0,I||(q=[v(o,"input",e[10]),v(a,"input",e[11]),v(l,"click",e[12]),v(B,"click",e[13]),v(U,"change",e[14])],I=!0)},p(e,[n]){4&n&&o.value!==e[2]&&$(o,e[2]),32&n&&a.value!==e[5]&&$(a,e[5]),(!H||128&n)&&x(E,e[7]),e[3]?V?V.p(e,n):(V=Xe(e),V.c(),V.m(A,null)):V&&(V.d(1),V=null),(!H||64&n)&&x(O,e[6]),64&n&&(U.checked=e[6]);let r=J;J=Z(e),J===r?X[J].p(e,n):(M={r:0,c:[],p:M},C(X[r],1,1,(()=>{X[r]=null})),M.r||i(M.c),M=M.p,W=X[J],W?W.p(e,n):(W=X[J]=G[J](e),W.c()),R(W,1),W.m(t,null))},i(e){H||(R(W),H=!0)},o(e){C(W),H=!1},d(e){e&&p(t),V&&V.d(),X[J].d(),I=!1,i(q)}}}function st(e,n,r){let o,i,s,a,{extension:c}=n;const l=t.activeClass;let f,d,u=c.projectJson,p=!1;return e.$$set=e=>{"extension"in e&&r(0,c=e.extension)},e.$$.update=()=>{2&e.$$.dirty&&r(4,o=u.split("\n")),20&e.$$.dirty&&r(3,i=f?o.map((e=>Array.from(e.matchAll(new RegExp(f,"g"))))).flat():void 0),20&e.$$.dirty&&r(8,s=f?o.filter((e=>Array.from(e.matchAll(new RegExp(f,"g"))).length>0)):void 0),8&e.$$.dirty&&r(7,a=i?.length)},[c,u,f,i,o,d,p,a,s,l,function(){f=this.value,r(2,f)},function(){d=this.value,r(5,d)},()=>r(1,u=o.map((e=>e.replaceAll(new RegExp(f,"g"),d))).join("\n")),()=>c.downloadUpdatedProjectJson(u),function(){p=this.checked,r(6,p)},function(){u=this.value,r(1,u)}]}return e.Extension=Re,e.ProjectView=class extends H{constructor(e){super(),W(this,e,st,it,a,{extension:0},Ie)}},Object.defineProperty(e,"__esModule",{value:!0}),e}({},ExtensionFramework);//# sourceMappingURL=projectProbe.js.map
