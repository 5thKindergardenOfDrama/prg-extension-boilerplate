var projectProbe=function(e,t){"use strict";function n(){}function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function s(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let a,l;function f(e,t){e.appendChild(t)}function d(e,t,n){const r=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!r.getElementById(t)){const e=m("style");e.id=t,e.textContent=n,function(e,t){f(e.head||e,t),t.sheet}(r,e)}}function u(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function y(e){return document.createTextNode(e)}function w(){return y(" ")}function g(){return y("")}function v(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e,t){e.value=null==t?"":t}function E(e){l=e}function z(e){(function(){if(!l)throw new Error("Function called outside component initialization");return l})().$$.on_mount.push(e)}const A=[],j=[],k=[],L=[],S=Promise.resolve();let B=!1;function _(e){k.push(e)}const O=new Set;let N=0;function F(){if(0!==N)return;const e=l;do{try{for(;N<A.length;){const e=A[N];N++,E(e),U(e.$$)}}catch(e){throw A.length=0,N=0,e}for(E(null),A.length=0,N=0;j.length;)j.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];O.has(t)||(O.add(t),t())}k.length=0}while(A.length);for(;L.length;)L.pop()();B=!1,O.clear(),E(e)}function U(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_)}}const P=new Set;let M;function R(e,t){e&&e.i&&(P.delete(e),e.i(t))}function C(e,t,n,r){if(e&&e.o){if(P.has(e))return;P.add(e),M.c.push((()=>{P.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function T(e,t,n,o){const{fragment:c,after_update:a}=e.$$;c&&c.m(t,n),o||_((()=>{const t=e.$$.on_mount.map(r).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),a.forEach(_)}function D(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function J(e,t){-1===e.$$.dirty[0]&&(A.push(e),B||(B=!0,S.then(F)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function W(e,t,r,s,c,a,f,d=[-1]){const u=l;E(e);const h=e.$$={fragment:null,ctx:[],props:a,update:n,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:o(),dirty:d,skip_bound:!1,root:t.target||u.$$.root};f&&f(h.root);let m=!1;if(h.ctx=r?r(e,t.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),m&&J(e,t)),n})):[],h.update(),m=!0,i(h.before_update),h.fragment=!!s&&s(h.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);h.fragment&&h.fragment.l(e),e.forEach(p)}else h.fragment&&h.fragment.c();t.intro&&R(e.$$.fragment),T(e,t.target,t.anchor,t.customElement),F()}E(u)}class H{$destroy(){D(this,1),this.$destroy=n}$on(e,t){if(!s(t))return n;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function I(e){return e.arrayBuffer?e.arrayBuffer():new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("loadend",(()=>{t(r.result)})),r.addEventListener("error",n),r.readAsArrayBuffer(e)}))}async function q(e){const t=await I(e);return new Uint8Array(t)}function V(e){return"undefined"!=typeof Blob&&e instanceof Blob}function G(e){return"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}const X="undefined"!=typeof process&&process.versions&&void 0!==process.versions.node&&void 0===process.versions.electron;class Z{constructor(e){this.typedArray=e instanceof ArrayBuffer||G(e)?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}async getLength(){return this.typedArray.byteLength}async read(e,t){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+e,t)}}class K{constructor(e){this.blob=e}async getLength(){return this.blob.size}async read(e,t){const n=this.blob.slice(e,e+t),r=await I(n);return new Uint8Array(r)}async sliceAsBlob(e,t,n=""){return this.blob.slice(e,e+t,n)}}function Q(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r}function Y(e,t,n,r,o,i){for(var s=oe,c=se,a=0;a<n;){var l=e[c(r,o)&t];o+=15&l;var f=l>>>4;if(f<=15)i[a]=f,a++;else{var d=0,u=0;16==f?(u=3+s(r,o,2),o+=2,d=i[a-1]):17==f?(u=3+s(r,o,3),o+=3):18==f&&(u=11+s(r,o,7),o+=7);for(var p=a+u;a<p;)i[a]=d,a++}}return o}function ee(e,t,n,r){for(var o=0,i=0,s=r.length>>>1;i<n;){var c=e[i+t];r[i<<1]=0,r[1+(i<<1)]=c,c>o&&(o=c),i++}for(;i<s;)r[i<<1]=0,r[1+(i<<1)]=0,i++;return o}function te(e,t){for(var n,r,o,i,s=e.length,c=ce.bl_count,a=0;a<=t;a++)c[a]=0;for(a=1;a<s;a+=2)c[e[a]]++;var l=ce.next_code;for(n=0,c[0]=0,r=1;r<=t;r++)n=n+c[r-1]<<1,l[r]=n;for(o=0;o<s;o+=2)0!=(i=e[o+1])&&(e[o]=l[i],l[i]++)}function ne(e,t,n){for(var r=e.length,o=ce.rev15,i=0;i<r;i+=2)if(0!=e[i+1])for(var s=i>>1,c=e[i+1],a=s<<4|c,l=t-c,f=e[i]<<l,d=f+(1<<l);f!=d;){n[o[f]>>>15-t]=a,f++}}function re(e,t){for(var n=ce.rev15,r=15-t,o=0;o<e.length;o+=2){var i=e[o]<<t-e[o+1];e[o]=n[i]>>>r}}function oe(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1}function ie(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1}function se(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)}const ce=(ae=Uint16Array,le=Uint32Array,{next_code:new ae(16),bl_count:new ae(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new ae(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new le(32),flmap:new ae(512),fltree:[],fdmap:new ae(32),fdtree:[],lmap:new ae(32768),ltree:[],ttree:[],dmap:new ae(32768),dtree:[],imap:new ae(512),itree:[],rev15:new ae(32768),lhst:new le(286),dhst:new le(30),ihst:new le(19),lits:new le(15e3),strt:new ae(65536),prev:new ae(32768)});var ae,le;!function(){for(var e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,ce.rev15[e]=(t>>>16|t<<16)>>>17}function n(e,t,n){for(;0!=t--;)e.push(0,n)}for(e=0;e<32;e++)ce.ldef[e]=ce.of0[e]<<3|ce.exb[e],ce.ddef[e]=ce.df0[e]<<4|ce.dxb[e];n(ce.fltree,144,8),n(ce.fltree,112,9),n(ce.fltree,24,7),n(ce.fltree,8,8),te(ce.fltree,9),ne(ce.fltree,9,ce.flmap),re(ce.fltree,9),n(ce.fdtree,32,5),te(ce.fdtree,5),ne(ce.fdtree,5,ce.fdmap),re(ce.fdtree,5),n(ce.itree,19,0),n(ce.ltree,286,0),n(ce.dtree,30,0),n(ce.ttree,320,0)}();const fe={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var o=0;o<r;o++)e=fe.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^fe.update(4294967295,e,t,n)}};function de(e,t){return function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var r=ie,o=oe,i=Y,s=se,c=null==t;c&&(t=new n(e.length>>>2<<3));for(var a,l,f=0,d=0,u=0,p=0,h=0,m=0,y=0,w=0,g=0;0==f;)if(f=r(e,g,1),d=r(e,g+1,2),g+=3,0!=d){if(c&&(t=Q(t,w+(1<<17))),1==d&&(a=ce.flmap,l=ce.fdmap,m=511,y=31),2==d){u=o(e,g,5)+257,p=o(e,g+5,5)+1,h=o(e,g+10,4)+4,g+=14;for(var v=0;v<38;v+=2)ce.itree[v]=0,ce.itree[v+1]=0;var b=1;for(v=0;v<h;v++){var x=o(e,g+3*v,3);ce.itree[1+(ce.ordr[v]<<1)]=x,x>b&&(b=x)}g+=3*h,te(ce.itree,b),ne(ce.itree,b,ce.imap),a=ce.lmap,l=ce.dmap,g=i(ce.imap,(1<<b)-1,u+p,e,g,ce.ttree);var $=ee(ce.ttree,0,u,ce.ltree);m=(1<<$)-1;var E=ee(ce.ttree,u,p,ce.dtree);y=(1<<E)-1,te(ce.ltree,$),ne(ce.ltree,$,a),te(ce.dtree,E),ne(ce.dtree,E,l)}for(;;){var z=a[s(e,g)&m];g+=15&z;var A=z>>>4;if(A>>>8==0)t[w++]=A;else{if(256==A)break;var j=w+A-254;if(A>264){var k=ce.ldef[A-257];j=w+(k>>>3)+o(e,g,7&k),g+=7&k}var L=l[s(e,g)&y];g+=15&L;var S=L>>>4,B=ce.ddef[S],_=(B>>>4)+r(e,g,15&B);for(g+=15&B,c&&(t=Q(t,w+(1<<17)));w<j;)t[w]=t[w++-_],t[w]=t[w++-_],t[w]=t[w++-_],t[w]=t[w++-_];w=j}}}else{0!=(7&g)&&(g+=8-(7&g));var O=4+(g>>>3),N=e[O-4]|e[O-3]<<8;c&&(t=Q(t,w+N)),t.set(new n(e.buffer,e.byteOffset+O,N),w),g=O+N<<3,w+=N}return t.length==w?t:t.slice(0,w)}(e,t)}const ue={numWorkers:1,workerURL:"",useWorkers:!1};let pe=0;const he=[];function me(e){return new Promise(((t,n)=>{const r=new Worker(e);r.onmessage=e=>{"start"===e.data?(r.onerror=void 0,r.onmessage=void 0,t(r)):n(new Error(`unexpected message: ${e.data}`))},r.onerror=n}))}function ye(e,t,n,r){const o=new Uint8Array(t);de(e,o),r(n?new Blob([o],{type:n}):o.buffer)}function we(e,t,n){return new Promise(((r,o)=>{he.push({src:e,uncompressedSize:t,type:n,resolve:r,reject:o,id:pe++}),async function(){if(0!==he.length)for(;he.length;){const{src:e,uncompressedSize:t,type:n,resolve:r}=he.shift();let o=e;V(e)&&(o=await q(e)),ye(o,t,n,r)}}()}))}!function(){if(X){const{Worker:n}=(e=module,t="worker_threads",e.require?e.require(t):{});return{createWorker:async e=>new n(e),addEventListener(e,t){e.on("message",(n=>{t({target:e,data:n})}))},async terminate(e){await e.terminate()}}}return{async createWorker(e){try{return await me(e)}catch(t){console.warn("could not load worker:",e)}let t;try{const n=await fetch(e,{mode:"cors"});if(!n.ok)throw new Error(`could not load: ${e}`);t=await n.text(),e=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));const r=await me(e);return ue.workerURL=e,r}catch(t){console.warn("could not load worker via fetch:",e)}if(void 0!==t)try{e=`data:application/javascript;base64,${btoa(t)}`;const n=await me(e);return ue.workerURL=e,n}catch(e){console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(e,t){e.addEventListener("message",t)},async terminate(e){e.terminate()}};var e,t}();class ge{constructor(e,t){var n,r;this._reader=e,this._rawEntry=t,this.name=t.name,this.nameBytes=t.nameBytes,this.size=t.uncompressedSize,this.compressedSize=t.compressedSize,this.comment=t.comment,this.commentBytes=t.commentBytes,this.compressionMethod=t.compressionMethod,this.lastModDate=(n=t.lastModFileDate,r=t.lastModFileTime,new Date(1980+(n>>9&127),(n>>5&15)-1,31&n,r>>11&31,r>>5&63,2*(31&r),0)),this.isDirectory=0===t.uncompressedSize&&t.name.endsWith("/"),this.encrypted=!!(1&t.generalPurposeBitFlag),this.externalFileAttributes=t.externalFileAttributes,this.versionMadeBy=t.versionMadeBy}async blob(e="application/octet-stream"){return await async function(e,t,n){const{decompress:r,fileDataStart:o}=await Ue(e,t);if(!r){const r=await ze(e,o,t.compressedSize,n);return V(r)?r:new Blob([G(r.buffer)?new Uint8Array(r):r],{type:n})}const i=await ze(e,o,t.compressedSize),s=await we(i,t.uncompressedSize,n);return s}(this._reader,this._rawEntry,e)}async arrayBuffer(){return await async function(e,t){const{decompress:n,fileDataStart:r}=await Ue(e,t);if(!n){const n=await Ee(e,r,t.compressedSize);return 0===(o=n).byteOffset&&o.byteLength===o.buffer.byteLength?n.buffer:n.slice().buffer}var o;const i=await ze(e,r,t.compressedSize);return await we(i,t.uncompressedSize)}(this._reader,this._rawEntry)}async text(){const e=await this.arrayBuffer();return Be(new Uint8Array(e))}async json(){const e=await this.text();return JSON.parse(e)}}const ve=22,be=65535,xe=101010256,$e=101075792;async function Ee(e,t,n){return await e.read(t,n)}async function ze(e,t,n,r){return e.sliceAsBlob?await e.sliceAsBlob(t,n,r):await e.read(t,n)}const Ae={unsigned:()=>0};function je(e,t){return e[t]+256*e[t+1]}function ke(e,t){return e[t]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]}function Le(e,t){return ke(e,t)+4294967296*ke(e,t+4)}const Se=new TextDecoder;function Be(e,t){return G(e.buffer)&&(e=new Uint8Array(e)),Se.decode(e)}const _e=117853008;async function Oe(e,t,n,r){const o=t-20,i=await Ee(e,o,20);if(ke(i,0)!==_e)throw new Error("invalid zip64 end of central directory locator signature");const s=Le(i,8),c=await Ee(e,s,56);if(ke(c,0)!==$e)throw new Error("invalid zip64 end of central directory record signature");const a=Le(c,32),l=Le(c,40);return Fe(e,Le(c,48),l,a,n,r)}const Ne=33639248;async function Fe(e,t,n,r,o,i){let s=0;const c=await Ee(e,t,n),a=[];for(let e=0;e<r;++e){const e=c.subarray(s,s+46),t=ke(e,0);if(t!==Ne)throw new Error(`invalid central directory file header signature: 0x${t.toString(16)}`);const n={versionMadeBy:je(e,4),versionNeededToExtract:je(e,6),generalPurposeBitFlag:je(e,8),compressionMethod:je(e,10),lastModFileTime:je(e,12),lastModFileDate:je(e,14),crc32:ke(e,16),compressedSize:ke(e,20),uncompressedSize:ke(e,24),fileNameLength:je(e,28),extraFieldLength:je(e,30),fileCommentLength:je(e,32),internalFileAttributes:je(e,36),externalFileAttributes:ke(e,38),relativeOffsetOfLocalHeader:ke(e,42)};if(64&n.generalPurposeBitFlag)throw new Error("strong encryption is not supported");s+=46;const r=c.subarray(s,s+n.fileNameLength+n.extraFieldLength+n.fileCommentLength);n.nameBytes=r.slice(0,n.fileNameLength),n.name=Be(n.nameBytes);const o=n.fileNameLength+n.extraFieldLength,i=r.slice(n.fileNameLength,o);n.extraFields=[];let l=0;for(;l<i.length-3;){const e=je(i,l+0),t=l+4,r=t+je(i,l+2);if(r>i.length)throw new Error("extra field length exceeds extra field buffer size");n.extraFields.push({id:e,data:i.slice(t,r)}),l=r}if(n.commentBytes=r.slice(o,o+n.fileCommentLength),n.comment=Be(n.commentBytes),s+=r.length,4294967295===n.uncompressedSize||4294967295===n.compressedSize||4294967295===n.relativeOffsetOfLocalHeader){const e=n.extraFields.find((e=>1===e.id));if(!e)throw new Error("expected zip64 extended information extra field");const t=e.data;let r=0;if(4294967295===n.uncompressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include uncompressed size");n.uncompressedSize=Le(t,r),r+=8}if(4294967295===n.compressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include compressed size");n.compressedSize=Le(t,r),r+=8}if(4294967295===n.relativeOffsetOfLocalHeader){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include relative header offset");n.relativeOffsetOfLocalHeader=Le(t,r),r+=8}}const f=n.extraFields.find((e=>28789===e.id&&e.data.length>=6&&1===e.data[0]&&ke(e.data,1)),Ae.unsigned(n.nameBytes));if(f&&(n.fileName=Be(f.data.slice(5))),0===n.compressionMethod){let e=n.uncompressedSize;if(0!=(1&n.generalPurposeBitFlag)&&(e+=12),n.compressedSize!==e)throw new Error(`compressed size mismatch for stored file: ${n.compressedSize} != ${e}`)}a.push(n)}return{zip:{comment:o,commentBytes:i},entries:a.map((t=>new ge(e,t)))}}async function Ue(e,t){if(1&t.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const n=await Ee(e,t.relativeOffsetOfLocalHeader,30),r=await e.getLength(),o=ke(n,0);if(67324752!==o)throw new Error(`invalid local file header signature: 0x${o.toString(16)}`);const i=je(n,26),s=je(n,28),c=t.relativeOffsetOfLocalHeader+n.length+i+s;let a;if(0===t.compressionMethod)a=!1;else{if(8!==t.compressionMethod)throw new Error(`unsupported compression method: ${t.compressionMethod}`);a=!0}const l=c,f=l+t.compressedSize;if(0!==t.compressedSize&&f>r)throw new Error(`file data overflows file bounds: ${l} +  ${t.compressedSize}  > ${r}`);return{decompress:a,fileDataStart:l}}async function Pe(e){let t;if("undefined"!=typeof Blob&&e instanceof Blob)t=new K(e);else if(e instanceof ArrayBuffer||e&&e.buffer&&e.buffer instanceof ArrayBuffer)t=new Z(e);else if(G(e)||G(e.buffer))t=new Z(e);else if("string"==typeof e){const n=await fetch(e);if(!n.ok)throw new Error(`failed http request ${e}, status: ${n.status}: ${n.statusText}`);const r=await n.blob();t=new K(r)}else{if("function"!=typeof e.getLength||"function"!=typeof e.read)throw new Error("unsupported source type");t=e}const n=await t.getLength();if(n>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${n}. Only file sizes up 4503599627370496 bytes are supported`);return await async function(e,t){const n=Math.min(ve+be,t),r=t-n,o=await Ee(e,r,n);for(let t=n-ve;t>=0;--t){if(ke(o,t)!==xe)continue;const n=new Uint8Array(o.buffer,o.byteOffset+t,o.byteLength-t),i=je(n,4);if(0!==i)throw new Error(`multi-volume zip files are not supported. This is volume: ${i}`);const s=je(n,10),c=ke(n,12),a=ke(n,16),l=je(n,20),f=n.length-ve;if(l!==f)throw new Error(`invalid comment length. expected: ${f}, actual: ${l}`);const d=new Uint8Array(n.buffer,n.byteOffset+22,l),u=Be(d);return 65535===s||4294967295===a?await Oe(e,r+t,u,d):await Fe(e,a,c,s,u,d)}throw new Error("could not find end of central directory. maybe not zip file")}(t,n)}const Me={name:"Project Probe",description:"(INTERNAL) An extension for probing the contents of .sb3 files"};var Re=(()=>{var e;let n,r=[];return e=class extends(t.extension(Me,"ui")){constructor(){super(...arguments,...["Project Probe","projectProbe","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAB8CAYAAABE3L+AAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQElEQVR4nO3dMWsUQRyG8edyZyEqqBgVJHiaUvA76CcQK3sbsbJVv0AquxSKjaWlpBS0thDBwkpFLTQgQRQtTIxnsVdJsnO3c//du3nfH1x1Ozube8JuYLJ7vdFohGlZ6voArH2OLsjRBTm6IEcXNKh7893HD+vARWC7ncOxTAeB+6tnh4/qNqqNDlwFTs/skKwNL4Ha6KnT+6fZHYu1ZCu1ga/pghxdkKMLcnRBji7I0QU5uiBHF+ToghxdkKMLcnRBqVW2HLvAZuD+SzUATkVPEGUTGFLFt8mdB95GThAZ/S/wJ3D/pfoRPUHkNX0J6Afuv1RHoifwH3KCHF2QowtydEGOLsjRBTm6IEcX5OiCHF2QowuKjL6DV9iaeB89QeQq21HgJtVqm01uOXqC6Ojrgfu3hnxNF+ToghxdkKMLcnRBji7I0QU5uiBHF+ToghxdkKMLcvTyJJs6enmS98JFLq1uAdfxenqbBsCbSTaK8hN4Erh/ayjy9D7AtyrPJV/TBTm6IEcX5OiCHF2QowtydEGOLsjRBTm6IEcX5OiCIlfZcq0AJzua+zt5T2I+Bxyf0bFM6wvwuW6DeY5+B7jR0dzPgcsZ4+8BV2ZzKFNbA27XbTDPp/cun2KRO3eXjzxP/tPKPEff6XDu35njt2dyFM0kP7d5jm5BHF2QowtydEGOLsjRBTm6IEcX5OiCHF2Qowty9L0dyxx/eCZH0UzyG5nneWk110OqteUmv9g94G7N+yPgwPj1/6rWEtXtwq/H+2lTH3ia2qjk6LeAXw3HXgKeZcx9DXicMT5Uyaf31Yyxuaf3Q5njQ5Ucve1T68IoObrtw9EFObogRxfk6IIcXZCjC3J0QY4uyNEFlRw959ak3NuSurwlK8nR95Ybvct72ZJKXlrdoHoS9bQPJd4FTmTOvUa1tNv259sDHoxf+yo5+oUO5x6OX11I/twln95VfUtt4OiCHF2QowtydEGOLsjRBTm6IEcX5OiCHF2QowtKRV/J2PeZjLEAy5njVSWfPp1aZdugWrWZ9puRe8BXqlt6m3pB9QjtLh8MvGj6wKvURr3RKKeLLSJf0wU5uiBHF+ToghxdkKMLcnRB/wBIt0+4Irv7NwAAAABJRU5ErkJggg=="]),this.projectJson=void function(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e)}(this,r)}init(e){}async probeProject(e){if(e.includes("dropbox.com")){const t=/\/s\/[A-Za-z0-9]+\/.*.sb3/,n=e.match(t);n.length>0&&(e="https://dl.dropboxusercontent.com"+n[0])}const{entries:t}=await async function(e){const{zip:t,entries:n}=await Pe(e);return{zip:t,entries:Object.fromEntries(n.map((e=>[e.name,e])))}}(e),n=t["project.json"],r=await n.json();this.currentEntries=t,this.projectJson=JSON.stringify(r,null,3),this.openUI("ProjectView")}async downloadUpdatedProjectJson(e){}},n=[t.block({type:"command",arg:"string",text:e=>`Probe & modify project JSON from ${e}`})],function(e,t,n,r,o,i){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var c,a=r.kind,l="getter"===a?"get":"setter"===a?"set":"value",f=!t&&e?r.static?e:e.prototype:null,d=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),u=!1,p=n.length-1;p>=0;p--){var h={};for(var m in r)h[m]="access"===m?{}:r[m];for(var m in r.access)h.access[m]=r.access[m];h.addInitializer=function(e){if(u)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(e||null))};var y=(0,n[p])("accessor"===a?{get:d.get,set:d.set}:d[l],h);if("accessor"===a){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(c=s(y.get))&&(d.get=c),(c=s(y.set))&&(d.set=c),(c=s(y.init))&&o.push(c)}else(c=s(y))&&("field"===a?o.push(c):d[l]=c)}f&&Object.defineProperty(f,r.name,d),u=!0}(e,null,n,{kind:"method",name:"probeProject",static:!1,private:!1,access:{has:e=>"probeProject"in e,get:e=>e.probeProject}},null,r),e})();function Ce(e){d(e,"svelte-1mfppcc","button.svelte-1mfppcc{margin-top:0px}")}function Te(e){let t,r,o,i;return{c(){t=m("center"),r=m("button"),r.textContent="Copy Snippet",b(r,"class","svelte-1mfppcc")},m(n,s){u(n,t,s),f(t,r),o||(i=v(r,"click",e[4]),o=!0)},p:n,d(e){e&&p(t),o=!1,i()}}}function De(e){let t,r,o,i;return{c(){t=m("center"),r=m("button"),r.textContent="Copy Snippet",b(r,"class","svelte-1mfppcc")},m(n,s){u(n,t,s),f(t,r),o||(i=v(r,"click",e[5]),o=!0)},p:n,d(e){e&&p(t),o=!1,i()}}}function Je(e){let t,r,o,s,c,l,d,h,$,E,z,A,j="top"===e[1]&&Te(e),k=!0===e[1]&&De(e);return{c(){var n,i;t=m("link"),r=m("script"),s=w(),j&&j.c(),c=w(),l=m("pre"),d=m("code"),h=y(e[0]),$=w(),k&&k.c(),E=g(),b(t,"rel","stylesheet"),b(t,"href","https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/vs2015.min.css"),n=r.src,i=o="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js",a||(a=document.createElement("a")),a.href=i,n!==a.href&&b(r,"src","https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"),b(d,"class","language-typescript")},m(n,o){f(document.head,t),f(document.head,r),u(n,s,o),j&&j.m(n,o),u(n,c,o),u(n,l,o),f(l,d),f(d,h),u(n,$,o),k&&k.m(n,o),u(n,E,o),z||(A=[v(t,"load",e[3]),v(r,"load",e[3])],z=!0)},p(e,[t]){"top"===e[1]?j?j.p(e,t):(j=Te(e),j.c(),j.m(c.parentNode,c)):j&&(j.d(1),j=null),1&t&&x(h,e[0]),!0===e[1]?k?k.p(e,t):(k=De(e),k.c(),k.m(E.parentNode,E)):k&&(k.d(1),k=null)},i:n,o:n,d(e){p(t),p(r),e&&p(s),j&&j.d(e),e&&p(c),e&&p(l),e&&p($),k&&k.d(e),e&&p(E),z=!1,i(A)}}}function We(e,t,n){let{code:r}=t,{copyable:o=!0}=t;const i=e=>navigator.clipboard.writeText(e),s=()=>window.hljs?.highlightAll();z(s);return e.$$set=e=>{"code"in e&&n(0,r=e.code),"copyable"in e&&n(1,o=e.copyable)},[r,o,i,s,()=>i(r),()=>i(r)]}class He extends H{constructor(e){super(),W(this,e,We,Je,c,{code:0,copyable:1},Ce)}}function Ie(e){d(e,"svelte-ydy1ix",".container.svelte-ydy1ix{padding:30px;height:80vh;width:80vw;overflow:scroll}.matches.svelte-ydy1ix{background-color:white}.find.svelte-ydy1ix{background-color:yellow;display:inline-block}.replace.svelte-ydy1ix{background-color:rgb(168, 80, 186);font-style:italic;display:inline-block}")}function qe(e,t,n){const r=e.slice();return r[16]=t[n],r}function Ve(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Ge(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Xe(e){let t,n=e[8],r=[];for(let t=0;t<n.length;t+=1)r[t]=nt(qe(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,o){if(292&o){let i;for(n=e[8],i=0;i<n.length;i+=1){const s=qe(e,n,i);r[i]?r[i].p(s,o):(r[i]=nt(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){h(r,e),e&&p(t)}}}function Ze(e){let t,n=e[16].split(e[2]),r=[];for(let t=0;t<n.length;t+=1)r[t]=Ye(Ve(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,o){if(260&o){let i;for(n=e[16].split(e[2]),i=0;i<n.length;i+=1){const s=Ve(e,n,i);r[i]?r[i].p(s,o):(r[i]=Ye(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){h(r,e),e&&p(t)}}}function Ke(e){let t,n=e[16].split(e[2]),r=[];for(let t=0;t<n.length;t+=1)r[t]=tt(Ge(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=g()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,o){if(292&o){let i;for(n=e[16].split(e[2]),i=0;i<n.length;i+=1){const s=Ge(e,n,i);r[i]?r[i].p(s,o):(r[i]=tt(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){h(r,e),e&&p(t)}}}function Qe(e){let t,n;return{c(){t=m("div"),n=y(e[2]),b(t,"class","find svelte-ydy1ix")},m(e,r){u(e,t,r),f(t,n)},p(e,t){4&t&&x(n,e[2])},d(e){e&&p(t)}}}function Ye(e){let t,n,r=e[19]+"",o=e[21]<e[16].split(e[2]).length-1,i=o&&Qe(e);return{c(){t=y(r),i&&i.c(),n=g()},m(e,r){u(e,t,r),i&&i.m(e,r),u(e,n,r)},p(e,s){260&s&&r!==(r=e[19]+"")&&x(t,r),260&s&&(o=e[21]<e[16].split(e[2]).length-1),o?i?i.p(e,s):(i=Qe(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){e&&p(t),i&&i.d(e),e&&p(n)}}}function et(e){let t,n;return{c(){t=m("div"),n=y(e[5]),b(t,"class","replace svelte-ydy1ix")},m(e,r){u(e,t,r),f(t,n)},p(e,t){32&t&&x(n,e[5])},d(e){e&&p(t)}}}function tt(e){let t,n,r=e[19]+"",o=e[21]<e[16].split(e[2]).length-1,i=o&&et(e);return{c(){t=y(r),i&&i.c(),n=g()},m(e,r){u(e,t,r),i&&i.m(e,r),u(e,n,r)},p(e,s){260&s&&r!==(r=e[19]+"")&&x(t,r),260&s&&(o=e[21]<e[16].split(e[2]).length-1),o?i?i.p(e,s):(i=et(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){e&&p(t),i&&i.d(e),e&&p(n)}}}function nt(e){let t,n;function r(e,t){return e[5]?Ke:Ze}let o=r(e),i=o(e);return{c(){t=m("div"),i.c(),n=w()},m(e,r){u(e,t,r),i.m(t,null),f(t,n)},p(e,s){o===(o=r(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t,n)))},d(e){e&&p(t),i.d()}}}function rt(e){let t,n;return t=new He({props:{code:e[1],copyable:"top"}}),{c(){var e;(e=t.$$.fragment)&&e.c()},m(e,r){T(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.code=e[1]),t.$set(r)},i(e){n||(R(t.$$.fragment,e),n=!0)},o(e){C(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function ot(e){let t,r,o;return{c(){t=m("textarea")},m(n,i){u(n,t,i),$(t,e[1]),r||(o=v(t,"input",e[15]),r=!0)},p(e,n){2&n&&$(t,e[1])},i:n,o:n,d(e){e&&p(t),r=!1,o()}}}function it(e){let t,n,r,o,s,c,a,l,d,h,g,E,z,A,j,k,L,S,B,_,O,N,F,U,P,T,D,J,W,H,I,q,V=e[3]&&Xe(e);const G=[ot,rt],X=[];function Z(e,t){return e[6]?0:1}return J=Z(e),W=X[J]=G[J](e),{c(){t=m("div"),n=m("div"),r=y("Find: "),o=m("input"),s=y(" \n    Replace: "),c=m("input"),a=w(),l=m("button"),l.textContent="execute",d=w(),h=m("div"),g=m("i"),E=y(e[7]),z=y(" matches"),A=w(),j=m("div"),V&&V.c(),k=w(),L=m("div"),S=m("center"),B=m("button"),B.textContent="Download Updated Project",_=y("\n  Editable "),O=y(e[6]),N=w(),F=m("label"),U=m("input"),P=w(),T=m("span"),D=w(),W.c(),b(j,"class","matches svelte-ydy1ix"),b(U,"type","checkbox"),b(T,"class","slider round"),b(F,"class","switch"),b(t,"class","svelte-ydy1ix"),function(e,t,n){e.classList[n?"add":"remove"](t)}(t,"container",e[9])},m(i,p){u(i,t,p),f(t,n),f(n,r),f(n,o),$(o,e[2]),f(n,s),f(n,c),$(c,e[5]),f(n,a),f(n,l),f(t,d),f(t,h),f(h,g),f(g,E),f(g,z),f(t,A),f(t,j),V&&V.m(j,null),f(t,k),f(t,L),f(L,S),f(S,B),f(t,_),f(t,O),f(t,N),f(t,F),f(F,U),U.checked=e[6],f(F,P),f(F,T),f(t,D),X[J].m(t,null),H=!0,I||(q=[v(o,"input",e[10]),v(c,"input",e[11]),v(l,"click",e[12]),v(B,"click",e[13]),v(U,"change",e[14])],I=!0)},p(e,[n]){4&n&&o.value!==e[2]&&$(o,e[2]),32&n&&c.value!==e[5]&&$(c,e[5]),(!H||128&n)&&x(E,e[7]),e[3]?V?V.p(e,n):(V=Xe(e),V.c(),V.m(j,null)):V&&(V.d(1),V=null),(!H||64&n)&&x(O,e[6]),64&n&&(U.checked=e[6]);let r=J;J=Z(e),J===r?X[J].p(e,n):(M={r:0,c:[],p:M},C(X[r],1,1,(()=>{X[r]=null})),M.r||i(M.c),M=M.p,W=X[J],W?W.p(e,n):(W=X[J]=G[J](e),W.c()),R(W,1),W.m(t,null))},i(e){H||(R(W),H=!0)},o(e){C(W),H=!1},d(e){e&&p(t),V&&V.d(),X[J].d(),I=!1,i(q)}}}function st(e,n,r){let o,i,s,c,{extension:a}=n;const l=t.activeClass;let f,d,u=a.projectJson,p=!1;return e.$$set=e=>{"extension"in e&&r(0,a=e.extension)},e.$$.update=()=>{2&e.$$.dirty&&r(4,o=u.split("\n")),20&e.$$.dirty&&r(3,i=f?o.map((e=>Array.from(e.matchAll(new RegExp(f,"g"))))).flat():void 0),20&e.$$.dirty&&r(8,s=f?o.filter((e=>Array.from(e.matchAll(new RegExp(f,"g"))).length>0)):void 0),8&e.$$.dirty&&r(7,c=i?.length)},[a,u,f,i,o,d,p,c,s,l,function(){f=this.value,r(2,f)},function(){d=this.value,r(5,d)},()=>r(1,u=o.map((e=>e.replaceAll(new RegExp(f,"g"),d))).join("\n")),()=>a.downloadUpdatedProjectJson(u),function(){p=this.checked,r(6,p)},function(){u=this.value,r(1,u)}]}return e.Extension=Re,e.ProjectView=class extends H{constructor(e){super(),W(this,e,st,it,c,{extension:0},Ie)}},Object.defineProperty(e,"__esModule",{value:!0}),e}({},ExtensionFramework);//# sourceMappingURL=projectProbe.js.map
