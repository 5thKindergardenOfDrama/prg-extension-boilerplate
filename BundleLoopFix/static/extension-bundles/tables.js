var tables=function(t,e){"use strict";function n(){}function r(t){return t()}function a(){return Object.create(null)}function o(t){t.forEach(r)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function c(t,e,n){const r=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!r.getElementById(e)){const t=m("style");t.id=e,t.textContent=n,function(t,e){s(t.head||t,e),e.sheet}(r,t)}}function u(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function b(){return g(" ")}function h(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?null:+t}function v(t,e){t.value=null==e?"":e}function w(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function x(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function k(t,e,n){t.classList[n?"add":"remove"](e)}let C;function I(t){C=t}function M(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const L=[],N=[],T=[],$=[],D=Promise.resolve();let J=!1;function P(t){T.push(t)}const z=new Set;let R=0;function V(){if(0!==R)return;const t=C;do{try{for(;R<L.length;){const t=L[R];R++,I(t),Z(t.$$)}}catch(t){throw L.length=0,R=0,t}for(I(null),L.length=0,R=0;N.length;)N.pop()();for(let t=0;t<T.length;t+=1){const e=T[t];z.has(e)||(z.add(e),e())}T.length=0}while(L.length);for(;$.length;)$.pop()();J=!1,z.clear(),I(t)}function Z(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const S=new Set;let j;function A(t,e){t&&t.i&&(S.delete(t),t.i(e))}function Q(t,e,n,r){if(t&&t.o){if(S.has(t))return;S.add(t),j.c.push((()=>{S.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function E(t){t&&t.c()}function Y(t,e,n,a){const{fragment:i,after_update:s}=t.$$;i&&i.m(e,n),a||P((()=>{const e=t.$$.on_mount.map(r).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),s.forEach(P)}function G(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(L.push(t),J||(J=!0,D.then(V)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(t,e,r,l,i,s,c,u=[-1]){const p=C;I(t);const m=t.$$={fragment:null,ctx:[],props:s,update:n,not_equal:i,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:a(),dirty:u,skip_bound:!1,root:e.target||p.$$.root};c&&c(m.root);let g=!1;if(m.ctx=r?r(t,e.props||{},((e,n,...r)=>{const a=r.length?r[0]:n;return m.ctx&&i(m.ctx[e],m.ctx[e]=a)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](a),g&&B(t,e)),n})):[],m.update(),g=!0,o(m.before_update),m.fragment=!!l&&l(m.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);m.fragment&&m.fragment.l(t),t.forEach(d)}else m.fragment&&m.fragment.c();e.intro&&A(t.$$.fragment),Y(t,e.target,e.anchor,e.customElement),V()}I(p)}class O{$destroy(){G(this,1),this.$destroy=n}$on(t,e){if(!l(e))return n;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class W{constructor(t){this.root=t}get(...t){return`var(--${this.root}-${t.join("-")})`}primary(...t){return this.get("primary",...t)}secondary(...t){return this.get("secondary",...t)}tertiary(...t){return this.get("tertiary",...t)}transparent(...t){return this.get("transparent",...t)}light(...t){return this.get("light",...t)}}const F=new W("ui"),_=new W("text"),X=new W("motion"),K=new W("red"),U=new W("sound"),q=new W("control"),tt=new W("data"),et=new W("pen"),nt=new W("error"),rt=new W("extensions"),at=new W("extensions"),ot={ui:{primary:F.primary(),secondary:F.secondary(),tertiary:F.tertiary(),modalOverlay:F.get("modal","overlay"),white:F.get("white"),whiteDim:F.get("white","dim"),whiteTransparent:F.get("white","transparent"),transparent:F.transparent(),blackTransparent:F.get("black","transparent")},text:{primary:_.primary(),primaryTransparent:_.transparent()},motion:{primary:X.primary(),tertiary:X.tertiary(),transparent:X.get("transparent"),lightTansparent:X.light("transparent")},red:{primary:K.primary(),tertiary:K.tertiary()},sound:{primary:U.primary(),tertiary:U.tertiary()},control:{primary:q.primary()},data:{primary:tt.primary()},pen:{primary:et.primary(),transparent:et.transparent()},error:{primary:nt.primary(),light:nt.light(),transparent:nt.transparent()},extensions:{primary:rt.primary(),tertiary:rt.tertiary(),light:rt.light(),transparent:rt.transparent()},drop:{highlight:at.get("highlight")}};function lt(t){c(t,"svelte-2pm55u","button.svelte-2pm55u:disabled{background:var(--drop-highlight);border:var(--drop-highlight)}button.svelte-2pm55u{padding:0.75rem 1rem;border-radius:0.25rem;border-width:1px;border-style:solid;font-weight:600;font-size:0.85rem;transition:background-color 0.25s, border-color 0.25s}")}function it(t){let e,r,a,o;return{c(){e=m("button"),r=g("OK"),e.disabled=t[0],f(e,"data-testid","ok"),f(e,"class","svelte-2pm55u"),w(e,"border-color",t[2]),w(e,"background-color",t[2]),w(e,"color",t[1])},m(n,l){u(n,e,l),s(e,r),a||(o=h(e,"click",t[3]),a=!0)},p(t,[n]){1&n&&(e.disabled=t[0])},i:n,o:n,d(t){t&&d(e),a=!1,o()}}}function st(t,e,n){let{disabled:r=!1}=e;const a=ot.ui.white,o=ot.motion.primary;return t.$$set=t=>{"disabled"in t&&n(0,r=t.disabled)},[r,a,o,function(e){M.call(this,t,e)}]}class ct extends O{constructor(t){super(),H(this,t,st,it,i,{disabled:0},lt)}}function ut(t){c(t,"svelte-1lnk5kq","button.svelte-1lnk5kq{padding:0.75rem 1rem;border-radius:0.25rem;border-width:1px;border-style:solid;font-weight:600;font-size:0.85rem}")}function dt(t){let e,r,a;return{c(){e=m("button"),e.textContent="Cancel",f(e,"class","svelte-1lnk5kq"),w(e,"border-color",t[0]),w(e,"background-color",t[0]),w(e,"color",t[0])},m(n,o){u(n,e,o),r||(a=h(e,"click",t[1]),r=!0)},p:n,i:n,o:n,d(t){t&&d(e),r=!1,a()}}}function pt(t){return[ot.ui.blackTransparent,function(e){M.call(this,t,e)}]}class mt extends O{constructor(t){super(),H(this,t,pt,dt,i,{},ut)}}function gt(t){c(t,"svelte-3p09kw",".container.svelte-3p09kw{width:360px;background-color:var(--ui-white);padding:30px;padding:1.5rem 2.25rem}.label.svelte-3p09kw{font-weight:500;margin:0 0 0.75rem}.numberInputContainer.svelte-3p09kw{display:flex;justify-content:space-between;align-items:center}input.svelte-3p09kw{border:1px solid var(--ui-black-transparent);border-radius:5px}.numberInput.svelte-3p09kw{margin-bottom:1.5rem;border:1px solid var(--ui-black-transparent);border-radius:5px;padding:0 1rem;height:3rem;color:var(--text-primary-transparent);font-size:.875rem;vertical-align:middle;margin-top:20px}.nameInput.svelte-3p09kw{margin-bottom:1.5rem;width:100%;border:1px solid var(--ui-black-transparent);border-radius:5px;padding:0 1rem;height:3rem;color:var(--text-primary-transparent);font-size:.875rem}.error.svelte-3p09kw{margin:0px;font-weight:bold}")}function bt(t){let n,r,a,i,c,p,g,x,C,I,M,L,N,T,$,D,J,P,z,R,V,Z,S,j,B;return P=new ct({props:{disabled:t[4]||t[5]}}),P.$on("click",t[6]),R=new mt({}),R.$on("click",(function(){l(t[0])&&t[0].apply(this,arguments)})),{c(){n=m("div"),r=m("div"),a=m("div"),a.textContent="Table Name",i=b(),c=m("input"),p=b(),g=m("div"),x=m("div"),x.textContent="Number of Rows",C=b(),I=m("input"),M=b(),L=m("div"),N=m("div"),N.textContent="Number of Columns",T=b(),$=m("input"),D=b(),J=m("div"),E(P.$$.fragment),z=b(),E(R.$$.fragment),V=b(),Z=m("p"),Z.textContent="That table name already exists",f(a,"class","svelte-3p09kw"),k(a,"label",ft),c.autofocus=!0,f(c,"data-testid","makeNameInput"),f(c,"class","svelte-3p09kw"),k(c,"nameInput",wt),f(x,"class","svelte-3p09kw"),k(x,"label",ft),f(I,"type","number"),f(I,"min",kt),f(I,"max",Ct),f(I,"class","svelte-3p09kw"),k(I,"numberInput",vt),f(g,"class","svelte-3p09kw"),k(g,"numberInputContainer",yt),f(N,"class","svelte-3p09kw"),k(N,"label",ft),f($,"type","number"),f($,"min",kt),f($,"max",Ct),f($,"class","svelte-3p09kw"),k($,"numberInput",vt),f(L,"class","svelte-3p09kw"),k(L,"numberInputContainer",yt),f(Z,"class","svelte-3p09kw"),k(Z,"error",xt),w(Z,"visibility",t[5]?"visible":"hidden"),w(Z,"color",e.color.error.primary),f(n,"class","svelte-3p09kw"),k(n,"container",ht)},m(e,o){u(e,n,o),s(n,r),s(r,a),s(r,i),s(r,c),v(c,t[1]),s(n,p),s(n,g),s(g,x),s(g,C),s(g,I),v(I,t[2]),s(n,M),s(n,L),s(L,N),s(L,T),s(L,$),v($,t[3]),s(n,D),s(n,J),Y(P,J,null),s(J,z),Y(R,J,null),s(n,V),s(n,Z),S=!0,c.focus(),j||(B=[h(c,"input",t[8]),h(I,"input",t[9]),h($,"input",t[10])],j=!0)},p(e,[n]){t=e,2&n&&c.value!==t[1]&&v(c,t[1]),4&n&&y(I.value)!==t[2]&&v(I,t[2]),8&n&&y($.value)!==t[3]&&v($,t[3]);const r={};48&n&&(r.disabled=t[4]||t[5]),P.$set(r),32&n&&w(Z,"visibility",t[5]?"visible":"hidden")},i(t){S||(A(P.$$.fragment,t),A(R.$$.fragment,t),S=!0)},o(t){Q(P.$$.fragment,t),Q(R.$$.fragment,t),S=!1},d(t){t&&d(n),G(P),G(R),j=!1,o(B)}}}const ht=!0,ft=!0,yt=!0,vt=!0,wt=!0,xt=!0,kt=1,Ct=100;function It(t,n,r){let{extension:a}=n,{close:o}=n;let l,i,s="",c=1,u=1;return t.$$set=t=>{"extension"in t&&r(7,a=t.extension),"close"in t&&r(0,o=t.close)},t.$$.update=()=>{2&t.$$.dirty&&r(4,l=0===s.length),130&t.$$.dirty&&r(5,i=s in a.tables)},[o,s,c,u,l,i,()=>{((t,...n)=>{e.reactiveInvoke(r(7,a),t,n)})("newTable",{name:s,rows:c,columns:u}),o()},a,function(){s=this.value,r(1,s)},function(){c=y(this.value),r(2,c)},function(){u=y(this.value),r(3,u)}]}function Mt(t){c(t,"svelte-n7skhf",".container.svelte-n7skhf{width:480px;padding:1.5rem 2.25rem}.tableListDropdown.svelte-n7skhf{margin-bottom:1.5rem;width:100%;border:1px solid var(--ui-black-transparent);border-radius:5px;padding:0 1rem;height:3rem;color:var(--text-primary-transparent);font-size:1rem}.tableBox.svelte-n7skhf{border:1px solid var(--ui-black-transparent);border-radius:5px;margin-bottom:1rem;padding:1rem;color:var(--text-primary-transparent);font-size:1rem;overflow:scroll}.tableValueInput.svelte-n7skhf{width:3rem;padding:.25rem;color:var(--text-primary-transparent);font-size:1rem}")}function Lt(t,e,n){const r=t.slice();return r[13]=e[n],r[15]=n,r}function Nt(t,e,n){const r=t.slice();return r[16]=e[n],r[18]=n,r}function Tt(t,e,n){const r=t.slice();return r[19]=e[n],r[15]=n,r}function $t(t,e,n){const r=t.slice();return r[21]=e[n],r}function Dt(t){let e,n,r,a,o=t[21]+"";return{c(){e=m("option"),n=g(o),r=b(),e.__value=a=t[21],e.value=e.__value},m(t,a){u(t,e,a),s(e,n),s(e,r)},p(t,r){1&r&&o!==(o=t[21]+"")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(n,o),1&r&&a!==(a=t[21])&&(e.__value=a,e.value=e.__value)},d(t){t&&d(e)}}}function Jt(t){let e,r,a=t[15]+1+"";return{c(){e=m("th"),r=g(a)},m(t,n){u(t,e,n),s(e,r)},p:n,d(t){t&&d(e)}}}function Pt(t){let e,n,r,a,o;function l(...e){return t[9](t[15],t[18],...e)}return{c(){e=m("th"),n=m("input"),f(n,"type","number"),n.value=r=t[16],f(n,"data-testid","tableCell"),f(n,"class","svelte-n7skhf"),k(n,"tableValueInput",t[6])},m(t,r){u(t,e,r),s(e,n),a||(o=h(n,"change",l),a=!0)},p(e,a){t=e,5&a&&r!==(r=t[16])&&n.value!==r&&(n.value=r)},d(t){t&&d(e),a=!1,o()}}}function zt(t){let e,n,r,a,o,l=t[15]+1+"",i=t[13],c=[];for(let e=0;e<i.length;e+=1)c[e]=Pt(Nt(t,i,e));return{c(){e=m("tr"),n=m("th"),r=g(l),a=b();for(let t=0;t<c.length;t+=1)c[t].c();o=b()},m(t,l){u(t,e,l),s(e,n),s(n,r),s(e,a);for(let t=0;t<c.length;t+=1)c[t].m(e,null);s(e,o)},p(t,n){if(197&n){let r;for(i=t[13],r=0;r<i.length;r+=1){const a=Nt(t,i,r);c[r]?c[r].p(a,n):(c[r]=Pt(a),c[r].c(),c[r].m(e,o))}for(;r<c.length;r+=1)c[r].d(1);c.length=i.length}},d(t){t&&d(e),p(c,t)}}}function Rt(t){let n,r,a,o,i,c,g,y,v,C,I,M,L,N,T,$,D,J,z=Object.keys(t[0].tables),R=[];for(let e=0;e<z.length;e+=1)R[e]=Dt($t(t,z,e));let V=[...Array(t[0].tables[t[2]][0].length)],Z=[];for(let e=0;e<V.length;e+=1)Z[e]=Jt(Tt(t,V,e));let S=t[0].tables[t[2]],j=[];for(let e=0;e<S.length;e+=1)j[e]=zt(Lt(t,S,e));return T=new ct({}),T.$on("click",(function(){l(t[1])&&t[1].apply(this,arguments)})),{c(){n=m("div"),r=m("div"),a=m("select");for(let t=0;t<R.length;t+=1)R[t].c();o=b(),i=m("div"),c=m("table"),g=m("thead"),y=m("tr"),v=m("th"),C=b();for(let t=0;t<Z.length;t+=1)Z[t].c();I=b(),M=m("tbody");for(let t=0;t<j.length;t+=1)j[t].c();L=b(),N=m("center"),E(T.$$.fragment),f(a,"data-testid","tableSelect"),f(a,"class","svelte-n7skhf"),void 0===t[2]&&P((()=>t[8].call(a))),k(a,"tableListDropdown",t[4]),f(i,"class","svelte-n7skhf"),k(i,"tableBox",t[5]),f(n,"class","svelte-n7skhf"),k(n,"container",t[3]),w(n,"width","360px"),w(n,"background-color",e.color.ui.white),w(n,"color",e.color.text.primary)},m(e,l){u(e,n,l),s(n,r),s(r,a);for(let t=0;t<R.length;t+=1)R[t].m(a,null);x(a,t[2]),s(n,o),s(n,i),s(i,c),s(c,g),s(g,y),s(y,v),s(y,C);for(let t=0;t<Z.length;t+=1)Z[t].m(y,null);s(c,I),s(c,M);for(let t=0;t<j.length;t+=1)j[t].m(M,null);s(n,L),s(n,N),Y(T,N,null),$=!0,D||(J=h(a,"change",t[8]),D=!0)},p(e,[n]){if(t=e,1&n){let e;for(z=Object.keys(t[0].tables),e=0;e<z.length;e+=1){const r=$t(t,z,e);R[e]?R[e].p(r,n):(R[e]=Dt(r),R[e].c(),R[e].m(a,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=z.length}if(5&n&&x(a,t[2]),5&n){let e;for(V=[...Array(t[0].tables[t[2]][0].length)],e=0;e<V.length;e+=1){const r=Tt(t,V,e);Z[e]?Z[e].p(r,n):(Z[e]=Jt(r),Z[e].c(),Z[e].m(y,null))}for(;e<Z.length;e+=1)Z[e].d(1);Z.length=V.length}if(197&n){let e;for(S=t[0].tables[t[2]],e=0;e<S.length;e+=1){const r=Lt(t,S,e);j[e]?j[e].p(r,n):(j[e]=zt(r),j[e].c(),j[e].m(M,null))}for(;e<j.length;e+=1)j[e].d(1);j.length=S.length}},i(t){$||(A(T.$$.fragment,t),$=!0)},o(t){Q(T.$$.fragment,t),$=!1},d(t){t&&d(n),p(R,t),p(Z,t),p(j,t),G(T),D=!1,J()}}}function Vt(t,n,r){let{extension:a}=n,{close:o}=n;const l=e.activeClass,i=e.activeClass,s=e.activeClass,c=e.activeClass,u=Object.keys(a.tables);let d=u.length>0?u[0]:"";const p=(t,n,o)=>((t,...n)=>e.reactiveInvoke(r(0,a),t,n))("changeTableValue",{name:d,row:n,column:o,value:parseInt(t.currentTarget.value)});return t.$$set=t=>{"extension"in t&&r(0,a=t.extension),"close"in t&&r(1,o=t.close)},[a,o,d,l,i,s,c,p,function(){d=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),r(2,d),r(0,a)},(t,e,n)=>p(n,t,e)]}var Zt=(()=>{let t,n,r=[e.validGenericExtension()],a=[];var o,l,i,s=n=class extends e.Extension{constructor(){super(...arguments,"Tables","tables","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIiBbDQoJPCFFTlRJVFkgbnNfZXh0ZW5kICJodHRwOi8vbnMuYWRvYmUuY29tL0V4dGVuc2liaWxpdHkvMS4wLyI+DQoJPCFFTlRJVFkgbnNfYWkgImh0dHA6Ly9ucy5hZG9iZS5jb20vQWRvYmVJbGx1c3RyYXRvci8xMC4wLyI+DQoJPCFFTlRJVFkgbnNfZ3JhcGhzICJodHRwOi8vbnMuYWRvYmUuY29tL0dyYXBocy8xLjAvIj4NCgk8IUVOVElUWSBuc192YXJzICJodHRwOi8vbnMuYWRvYmUuY29tL1ZhcmlhYmxlcy8xLjAvIj4NCgk8IUVOVElUWSBuc19pbXJlcCAiaHR0cDovL25zLmFkb2JlLmNvbS9JbWFnZVJlcGxhY2VtZW50LzEuMC8iPg0KCTwhRU5USVRZIG5zX3NmdyAiaHR0cDovL25zLmFkb2JlLmNvbS9TYXZlRm9yV2ViLzEuMC8iPg0KCTwhRU5USVRZIG5zX2N1c3RvbSAiaHR0cDovL25zLmFkb2JlLmNvbS9HZW5lcmljQ3VzdG9tTmFtZXNwYWNlLzEuMC8iPg0KCTwhRU5USVRZIG5zX2Fkb2JlX3hwYXRoICJodHRwOi8vbnMuYWRvYmUuY29tL1hQYXRoLzEuMC8iPg0KXT4NCjwhLS0gVXBsb2FkZWQgdG86IFNWRyBSZXBvLCB3d3cuc3ZncmVwby5jb20sIEdlbmVyYXRvcjogU1ZHIFJlcG8gTWl4ZXIgVG9vbHMgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM6eD0iJm5zX2V4dGVuZDsiIHhtbG5zOmk9IiZuc19haTsiIHhtbG5zOmdyYXBoPSImbnNfZ3JhcGhzOyINCgkgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgIHdpZHRoPSI4MDBweCIgaGVpZ2h0PSI4MDBweCINCgkgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8bWV0YWRhdGE+DQoJPHNmdyAgeG1sbnM9IiZuc19zZnc7Ij4NCgkJPHNsaWNlcz4KDTwvc2xpY2VzPg0KCQk8c2xpY2VTb3VyY2VCb3VuZHMgIHdpZHRoPSI1MDUiIGhlaWdodD0iOTg0IiBib3R0b21MZWZ0T3JpZ2luPSJ0cnVlIiB4PSIwIiB5PSItMTIwIj4KDTwvc2xpY2VTb3VyY2VCb3VuZHM+DQoJPC9zZnc+DQo8L21ldGFkYXRhPg0KPGc+DQoJPGc+DQoJCTxnPg0KCQkJPGc+DQoJCQkJPHBhdGggZD0iTTIwLDI0SDRjLTIuMiwwLTQtMS44LTQtNFY1YzAtMC42LDAuNC0xLDEtMWgyMmMwLjYsMCwxLDAuNCwxLDF2MTVDMjQsMjIuMiwyMi4yLDI0LDIwLDI0eiBNMiw2djE0YzAsMS4xLDAuOSwyLDIsMmgxNg0KCQkJCQljMS4xLDAsMi0wLjksMi0yVjZIMnoiLz4NCgkJCTwvZz4NCgkJPC9nPg0KCQk8Zz4NCgkJCTxnPg0KCQkJCTxwYXRoIHN0cm9rZT0iIzJEMkQyRCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLDYiLz4NCgkJCTwvZz4NCgkJPC9nPg0KCTwvZz4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBkPSJNMjMsNUgxVjRjMC0xLjcsMS4zLTMsMy0zaDE2YzEuNywwLDMsMS4zLDMsM1Y1eiIvPg0KCQk8L2c+DQoJCTxnPg0KCQkJPHBhdGggZD0iTTIzLDZIMUMwLjQsNiwwLDUuNiwwLDVWNGMwLTIuMiwxLjgtNCw0LTRoMTZjMi4yLDAsNCwxLjgsNCw0djFDMjQsNS42LDIzLjYsNiwyMyw2eiBNMiw0aDIwYzAtMS4xLTAuOS0yLTItMkg0DQoJCQkJQzIuOSwyLDIsMi45LDIsNHoiLz4NCgkJPC9nPg0KCTwvZz4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBkPSJNNywyNGMtMC42LDAtMS0wLjQtMS0xVjVjMC0wLjYsMC40LTEsMS0xczEsMC40LDEsMXYxOEM4LDIzLjYsNy42LDI0LDcsMjR6Ii8+DQoJCTwvZz4NCgk8L2c+DQoJPGc+DQoJCTxnPg0KCQkJPHBhdGggc3Ryb2tlPSIjMkQyRDJEIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMSw4Ii8+DQoJCTwvZz4NCgk8L2c+DQoJPGc+DQoJCTxnPg0KCQkJPHBhdGggc3Ryb2tlPSIjMkQyRDJEIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjMsOCIvPg0KCQk8L2c+DQoJPC9nPg0KCTxnPg0KCQk8Zz4NCgkJCTxwYXRoIGQ9Ik0yMywxMkgxYy0wLjYsMC0xLTAuNC0xLTFzMC40LTEsMS0xaDIyYzAuNiwwLDEsMC40LDEsMVMyMy42LDEyLDIzLDEyeiIvPg0KCQk8L2c+DQoJPC9nPg0KCTxnPg0KCQk8Zz4NCgkJCTxwYXRoIGQ9Ik0yMywxOEgxYy0wLjYsMC0xLTAuNC0xLTFzMC40LTEsMS0xaDIyYzAuNiwwLDEsMC40LDEsMVMyMy42LDE4LDIzLDE4eiIvPg0KCQk8L2c+DQoJPC9nPg0KPC9nPg0KPC9zdmc+"),this.saveDataHandler=new e.SaveDataHandler({Extension:s,onSave:t=>t.tables,onLoad:(t,e)=>{t.tables=e}})}init(t){this.tables||(this.tables={},this.tables.myTable=[],this.tables.myTable.push([0])),this.tableNamesArg={type:e.ArgumentType.String,options:{getItems:this.getTableNames.bind(this),acceptsReporters:!0,handler:t=>void 0===this.getTableNames().indexOf(t)?(alert(`no table with name ${t} exists`),"myTable"):t}},this.defaultNumberArg={type:e.ArgumentType.Number,defaultValue:1}}getTableNames(){return Object.keys(this.tables).map((t=>({text:t,value:t})))}newTable(t){const{name:e,rows:n,columns:r}=t;this.tables[e]=[];for(let t=0;t<n;t++){let t=[];for(let e=0;e<r;e++)t.push(0);this.tables[e].push(t)}}changeTableValue(t){const{name:e,row:n,column:r,value:a}=t;this.tables[e][n][r]=a}defineBlocks(){return{createTable:()=>({type:e.BlockType.Button,text:"new table",operation:()=>this.openUI("Make","Add a table")}),addTable:t=>({type:e.BlockType.Command,args:[t.tableNamesArg,t.defaultNumberArg,t.defaultNumberArg],text:(t,e,n)=>`add table called ${t} with ${e} rows and ${n} columns`,operation:(e,n,r)=>{if(e in t.tables)return void alert("that table already exists");const a={name:e,rows:n,columns:r};t.newTable(a)}}),removeTable:t=>({type:e.BlockType.Command,arg:t.tableNamesArg,text:t=>`remove ${t}`,operation:t=>this.tables[t]?void delete this.tables[t]:void alert("that table doesn't exist")}),insertColumn:t=>({type:e.BlockType.Command,arg:t.tableNamesArg,text:t=>`add column to ${t}`,operation:e=>{if(e in t.tables)for(let t=0;t<this.tables[e].length;t++)this.tables[e][t].push(0);else alert("that table does not exist.")}}),insertRow:t=>({type:e.BlockType.Command,arg:t.tableNamesArg,text:t=>`add row to ${t}`,operation:e=>{if(!(e in t.tables))return void alert("that table does not exist.");let n=[];for(let t=0;t<this.tables[e][0].length;t++)n.push(0);this.tables[e].push(n)}}),insertValueAt:t=>({type:e.BlockType.Command,args:[t.tableNamesArg,e.ArgumentType.Number,t.defaultNumberArg,t.defaultNumberArg],text:(t,e,n,r)=>`insert ${e} at row ${n} and column ${r} of ${t}`,operation:(e,n,r,a)=>{e in t.tables?this.tables[e].length<r?alert("That row value is too high!"):this.tables[e][0].length<a?alert("That column value is too high!"):this.tables[e][r-1][a-1]=n:alert("that table does not exist.")}}),getValueAt:t=>({type:e.BlockType.Reporter,args:[t.tableNamesArg,t.defaultNumberArg,t.defaultNumberArg],text:(t,e,n)=>`item at row ${e} and column ${n} of ${t}`,operation:(e,n,r)=>e in t.tables?this.tables[e].length<n?(alert("That row value is too high!"),-1):this.tables[e][0].length<r?(alert("That column value is too high!"),-1):this.tables[e][n-1][r-1]:(alert("that table does not exist."),-1)}),numberOfRows:t=>({type:e.BlockType.Reporter,arg:t.tableNamesArg,text:t=>`number of rows in ${t}`,operation:e=>e in t.tables?this.tables[e].length:(alert("that table does not exist."),-1)}),numberOfColumns:t=>({type:e.BlockType.Reporter,arg:t.tableNamesArg,text:t=>`number of columns in ${t}`,operation:e=>e in t.tables?this.tables[e][0].length:(alert("that table does not exist."),-1)}),highestValueOfColumn:t=>({type:e.BlockType.Reporter,args:[t.tableNamesArg,t.defaultNumberArg],text:(t,e)=>`highest value of column ${e} in ${t}`,operation:(e,n)=>e in t.tables?this.tables[e].reduce(((t,e)=>Math.max(t,e[n-1])),-1/0):(alert("that table does not exist."),-1)}),highestValueOfRow:t=>({type:e.BlockType.Reporter,args:[t.tableNamesArg,t.defaultNumberArg],text:(t,e)=>`highest value of row ${e} in ${t}`,operation:(e,n)=>e in t.tables?Math.max(...this.tables[e][n-1]):(alert("that table does not exist."),-1)}),indexOfHighestColumnValue:t=>({type:e.BlockType.Reporter,args:[t.tableNamesArg,t.defaultNumberArg],text:(t,e)=>`row # of highest value in column ${e} of ${t}`,operation:(e,n)=>{if(!(e in t.tables))return alert("that table does not exist."),-1;let r=this.tables[e].reduce(((t,e,r)=>t[1]>=e[n-1]?t:[r,e[n-1]]),[-1,-1/0]);return r[0]+1}}),indexOfHighestRowValue:t=>({type:e.BlockType.Reporter,args:[t.tableNamesArg,t.defaultNumberArg],text:(t,e)=>`column # of highest value in row ${e} of ${t}`,operation:(t,e)=>{if(!(t in this.tables))return alert("that table does not exist."),-1;let n=Math.max(...this.tables[t][e-1]);return this.tables[t][e-1].indexOf(n)+1}}),showTable:()=>({type:e.BlockType.Button,text:"view tables",operation:()=>this.openUI("View","View / Edit Table Values")})}}};return o=n,"symbol"==typeof(l="Tables")&&(l=l.description?"[".concat(l.description,"]"):""),Object.defineProperty(o,"name",{configurable:!0,value:i?"".concat(i," ",l):l}),function(t,e,n,r,a,o){function l(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var i,s=r.kind,c="getter"===s?"get":"setter"===s?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),p=!1,m=n.length-1;m>=0;m--){var g={};for(var b in r)g[b]="access"===b?{}:r[b];for(var b in r.access)g.access[b]=r.access[b];g.addInitializer=function(t){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(t||null))};var h=(0,n[m])("accessor"===s?{get:d.get,set:d.set}:d[c],g);if("accessor"===s){if(void 0===h)continue;if(null===h||"object"!=typeof h)throw new TypeError("Object expected");(i=l(h.get))&&(d.get=i),(i=l(h.set))&&(d.set=i),(i=l(h.init))&&a.push(i)}else(i=l(h))&&("field"===s?a.push(i):d[c]=i)}u&&Object.defineProperty(u,r.name,d),p=!0}(null,t={value:n},r,{kind:"class",name:n.name},null,a),s=n=t.value,function(t,e,n){for(var r=arguments.length>2,a=0;a<e.length;a++)n=r?e[a].call(t,n):e[a].call(t)}(n,a),s=n})();return t.Extension=Zt,t.Make=class extends O{constructor(t){super(),H(this,t,It,bt,i,{extension:7,close:0},gt)}},t.View=class extends O{constructor(t){super(),H(this,t,Vt,Rt,i,{extension:0,close:1},Mt)}},Object.defineProperty(t,"__esModule",{value:!0}),t}({},ExtensionFramework);//# sourceMappingURL=tables.js.map
