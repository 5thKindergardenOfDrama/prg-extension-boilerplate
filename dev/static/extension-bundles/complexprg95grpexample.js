var complexprg95grpexample=function(t,e){"use strict";function n(){}function o(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(o)}function l(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function u(t,e,n){const o=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!o.getElementById(e)){const t=y("style");t.id=e,t.textContent=n,function(t,e){s(t.head||t,e),e.sheet}(o,t)}}function a(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function d(){return m(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function A(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let x;function L(t){x=t}const T=[],$=[],N=[],j=[],I=Promise.resolve();let C=!1;function b(t){N.push(t)}const k=new Set;let D=0;function v(){const t=x;do{for(;D<T.length;){const t=T[D];D++,L(t),w(t.$$)}for(L(null),T.length=0,D=0;$.length;)$.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];k.has(e)||(k.add(e),e())}N.length=0}while(T.length);for(;j.length;)j.pop()();C=!1,k.clear(),L(t)}function w(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(b)}}const E=new Set;function S(t,e){-1===t.$$.dirty[0]&&(T.push(t),C||(C=!0,I.then(v)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function _(t,e,c,s,u,a,g,y=[-1]){const m=x;L(t);const d=t.$$={fragment:null,ctx:[],props:a,update:n,not_equal:u,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:r(),dirty:y,skip_bound:!1,root:e.target||m.$$.root};g&&g(d.root);let f=!1;if(d.ctx=c?c(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&u(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),f&&S(t,e)),n})):[],d.update(),f=!0,i(d.before_update),d.fragment=!!s&&s(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(p)}else d.fragment&&d.fragment.c();e.intro&&((h=t.$$.fragment)&&h.i&&(E.delete(h),h.i(M))),function(t,e,n,r){const{fragment:c,after_update:s}=t.$$;c&&c.m(e,n),r||b((()=>{const e=t.$$.on_mount.map(o).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):i(e),t.$$.on_mount=[]})),s.forEach(b)}(t,e.target,e.anchor,e.customElement),v()}var h,M;L(m)}class z{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=n}$on(t,e){if(!l(e))return n;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function B(t){let e;return{c(){e=y("div"),e.innerHTML='<img src="https://y.yarn.co/e1c7becd-fc72-40cb-8866-2afac14e2712_text.gif" alt="Gif of &#39;Its done&#39; clip from the movie Dune"/>',A(e,"width","400px;")},m(t,n){a(t,e,n)},p:n,i:n,o:n,d(t){t&&p(e)}}}const R=t=>({type:e.BlockType.Reporter,operation:(t,e)=>t+e,args:[{type:e.ArgumentType.Number,defaultValue:3,options:t.lhsOptions},{type:e.ArgumentType.Number}],text:(t,e)=>`Add ${t} to ${e}`});var O,U;!function(t){t[t.Row=0]="Row";t[t.Column=1]="Column";t[t.Both=2]="Both"}(O||(O={})),function(t){t[t.Leopard=0]="Leopard";t[t.Tiger=1]="Tiger";t[t.Gorilla=2]="Gorilla";t[t.Monkey=3]="Monkey";t[t.Pig=4]="Pig"}(U||(U={}));const G={[U.Leopard]:"leopard",[U.Tiger]:"tiger",[U.Gorilla]:"gorilla",[U.Monkey]:"monkey",[U.Pig]:"pig"},P={[U.Leopard]:"🐆",[U.Tiger]:"🐅",[U.Gorilla]:"🦍",[U.Monkey]:"🐒",[U.Pig]:"🐖"};class Q extends e.Extension{internal_getCodeGenArgs(){return{id:"complexprg95grpexample",name:"Realistic Typescript-Based Extension",blockIconURI:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwcHgiIGhlaWdodD0iNDAwcHgiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48c3R5bGU+LnN0MHtmaWxsOiMwMDdhY2N9LnN0MXtmaWxsOiNmZmZ9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMCAyMDBWMGg0MDB2NDAwSDAiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNODcuNyAyMDAuN1YyMTdoNTJ2MTQ4aDM2LjlWMjE3aDUydi0xNmMwLTkgMC0xNi4zLS40LTE2LjUgMC0uMy0zMS43LS40LTcwLjItLjRsLTcwIC4zdjE2LjRsLS4zLS4xek0zMjEuNCAxODRjMTAuMiAyLjQgMTggNyAyNSAxNC4zIDMuNyA0IDkuMiAxMSA5LjYgMTIuOCAwIC42LTE3LjMgMTIuMy0yNy44IDE4LjgtLjQuMy0yLTEuNC0zLjYtNC01LjItNy40LTEwLjUtMTAuNi0xOC44LTExLjItMTItLjgtMjAgNS41LTIwIDE2IDAgMy4yLjYgNSAxLjggNy42IDIuNyA1LjUgNy43IDguOCAyMy4yIDE1LjYgMjguNiAxMi4zIDQxIDIwLjQgNDguNSAzMiA4LjUgMTMgMTAuNCAzMy40IDQuNyA0OC43LTYuNCAxNi43LTIyIDI4LTQ0LjMgMzEuNy03IDEuMi0yMyAxLTMwLjUtLjMtMTYtMy0zMS4zLTExLTQwLjctMjEuMy0zLjctNC0xMC44LTE0LjctMTAuNC0xNS40bDMuOC0yLjQgMTUtOC43IDExLjMtNi42IDIuNiAzLjVjMy4zIDUuMiAxMC43IDEyLjIgMTUgMTQuNiAxMyA2LjcgMzAuNCA1LjggMzktMiAzLjctMy40IDUuMy03IDUuMy0xMiAwLTQuNi0uNy02LjctMy0xMC4yLTMuMi00LjQtOS42LTgtMjcuNi0xNi0yMC43LTguOC0yOS41LTE0LjQtMzcuNy0yMy00LjctNS4yLTktMTMuMy0xMS0yMC0xLjUtNS44LTItMjAtLjYtMjUuNyA0LjMtMjAgMTkuNC0zNCA0MS0zOCA3LTEuNCAyMy41LS44IDMwLjQgMWwtLjIuMnoiLz48L3N2Zz4="}}constructor(...t){super(...t),Q.prototype.__init.call(this),Q.prototype.__init2.call(this),Q.prototype.__init3.call(this)}__init(){this.collection=[U.Gorilla]}getAnimalCollectionEmojis(){return this.collection.map((t=>P[t]))}addAnimalToCollection(t){return this.collection.push(t)}__init2(){this.state=0}__init3(){this.saveDataHandler=new e.SaveDataHandler({Extension:Q,onSave:({collection:t,state:e})=>({collection:t,state:e}),onLoad:(t,n)=>e.copyTo({target:t,source:n})})}init(){this.lhsOptions=[3,4,5],this.animals=Object.entries(P).map((([t,e])=>({value:parseInt(t),text:e}))),this.getAnimalCollection=()=>this.collection.map((t=>({text:P[t],value:t})))}defineBlocks(){return{reportId:{type:e.BlockType.Reporter,text:"My Extension ID is",operation:()=>this.id},reportColorChannel:{type:e.BlockType.Reporter,args:[e.ArgumentType.Color,{type:e.ArgumentType.String,options:[{value:"r",text:"red"},{value:"g",text:"green"},{value:"b",text:"blue"}]}],text:(t,e)=>`Report ${e} of ${t}`,operation:(t,e)=>t[e]},sumMatrix:{type:"reporter",args:[e.ArgumentType.Matrix,{type:e.ArgumentType.Number,options:[{value:O.Row,text:"rows"},{value:O.Column,text:"columns"},{value:O.Both,text:"rows and columns"}]}],text:(t,e)=>`Sum ${e} of ${t}`,operation:(t,e)=>{switch(e){case O.Row:return t.map((t=>t.reduce(((t,e)=>t+Number(e)),0))).join("\n");case O.Column:const e=[0,0,0,0,0];return t.forEach((t=>t.forEach(((t,n)=>{e[n]+=Number(t)})))),e.join(" ");case O.Both:return t.map((t=>t.reduce(((t,e)=>t+Number(e)),0))).reduce(((t,e)=>t+e),0).toString()}}},incrementStateViaThis:{type:e.BlockType.Reporter,text:"Increment (via 'this')",operation:()=>++this.state},incrementStateViaSelf:t=>({type:e.BlockType.Reporter,text:"Increment (via 'self')",operation:()=>++t.state}),selectNote:{type:e.BlockType.Reporter,arg:e.ArgumentType.Note,text:t=>`Pick note ${t}`,operation:t=>t},selectAngle:{type:e.BlockType.Reporter,arg:e.ArgumentType.Angle,text:t=>`Pick angle ${t}`,operation:t=>t},useAnimalMenu1:{type:e.BlockType.Reporter,arg:{type:e.ArgumentType.Number,options:{items:this.animals,acceptsReporters:!0,handler:t=>{switch(t){case`${U.Leopard}`:case`${U.Tiger}`:case`${U.Gorilla}`:case`${U.Monkey}`:case`${U.Pig}`:return t;default:return alert(`You silly goose! ${t} is not an animal.`),U.Leopard}}}},text:t=>`This is a ${t}`,operation:t=>G[t]},useAnimalMenu2:t=>({type:e.BlockType.Reporter,arg:{type:e.ArgumentType.Number,options:t.animals},text:t=>`Where does the ${t} live?`,operation:t=>{switch(t){case U.Leopard:return"Africa and Asia";case U.Tiger:return"Asia";case U.Gorilla:return"Africa";case U.Monkey:return"Africa, Asia, and South America";case U.Pig:return"Almost everywhere (except Antartica)"}}}),addAnimalToCollection:t=>({type:e.BlockType.Command,arg:t.makeCustomArgument({component:"AnimalArgument",initial:{value:U.Leopard,text:G[U.Leopard]}}),text:t=>`Add ${t} to collection`,operation:t=>{this.addAnimalToCollection(t),this.openUI("Alert")}}),chooseBetweenAnimals:t=>({type:e.BlockType.Reporter,arg:{type:e.ArgumentType.Number,options:t.getAnimalCollection},text:t=>`Animals in collection: ${t}`,operation:t=>G[t]}),multiplyUsingSelf:this.multiplyUsingSelf,multiplyUsingThis:this.multiplyUsingThis.bind(this),add:R,showAnimalCollectionUI:{type:e.BlockType.Button,text:"Show Animal Collection",operation:()=>{this.openUI("Animals","Here's your animal collection")}}}}multiplyUsingSelf(t){return{type:e.BlockType.Reporter,args:[{type:e.ArgumentType.Number,defaultValue:3,options:t.lhsOptions},e.ArgumentType.Number],text:(t,e)=>`${t} X ${e}`,operation:(t,e)=>t*e}}multiplyUsingThis(){return{type:e.BlockType.Reporter,args:[{type:e.ArgumentType.Number,defaultValue:3,options:this.lhsOptions},e.ArgumentType.Number],text:(t,e)=>`${t} X ${e}`,operation:(t,e)=>t*e}}}function H(t,e,n){const o=t.slice();return o[6]=e[n],o}function Y(t){let e,n,o,r,i=P[t[6]]+"";function l(){return t[5](t[6])}return{c(){e=y("button"),n=m(i)},m(t,i){a(t,e,i),s(e,n),o||(r=f(e,"click",l),o=!0)},p(e,n){t=e},d(t){t&&p(e),o=!1,r()}}}function Z(t){let e,o,r,i,l,c=Object.keys(P),u=[];for(let e=0;e<c.length;e+=1)u[e]=Y(H(t,c,e));return{c(){e=y("div");for(let t=0;t<u.length;t+=1)u[t].c();o=d(),r=y("center"),i=y("p"),l=m(t[1])},m(t,n){a(t,e,n);for(let t=0;t<u.length;t+=1)u[t].m(e,null);s(e,o),s(e,r),s(r,i),s(i,l)},p(t,[n]){if(1&n){let r;for(c=Object.keys(P),r=0;r<c.length;r+=1){const i=H(t,c,r);u[r]?u[r].p(i,n):(u[r]=Y(i),u[r].c(),u[r].m(e,o))}for(;r<u.length;r+=1)u[r].d(1);u.length=c.length}2&n&&M(l,t[1])},i:n,o:n,d(t){t&&p(e),g(u,t)}}}function W(t,e,n){let o,{setter:r}=e,{current:i}=e,{extension:l}=e,c=i.value;return t.$$set=t=>{"setter"in t&&n(2,r=t.setter),"current"in t&&n(3,i=t.current),"extension"in t&&n(4,l=t.extension)},t.$$.update=()=>{1&t.$$.dirty&&n(1,o=G[c]),7&t.$$.dirty&&r({value:c,text:o})},[c,o,r,i,l,t=>n(0,c=parseInt(t))]}function F(t){u(t,"svelte-o54gka",".container.svelte-o54gka{width:360px;padding:10px}button.svelte-o54gka{border-radius:10px;font-size:40px}")}function V(t,e,n){const o=t.slice();return o[6]=e[n],o}function J(t,e,n){const o=t.slice();return o[9]=e[n][0],o[10]=e[n][1],o}function X(t){let e,n,o,r,i,l=t[10]+"",c=t[9]+"",u=t[10]>1?"s":"";return{c(){e=y("li"),n=m(l),o=d(),r=m(c),i=m(u)},m(t,l){a(t,e,l),s(e,n),s(e,o),s(e,r),s(e,i)},p(t,e){2&e&&l!==(l=t[10]+"")&&M(n,l),2&e&&c!==(c=t[9]+"")&&M(r,c),2&e&&u!==(u=t[10]>1?"s":"")&&M(i,u)},d(t){t&&p(e)}}}function q(t){let e,n,o,r,i,l,c=t[6].text+"";function u(){return t[4](t[6])}return{c(){e=y("button"),n=y("span"),n.textContent="+",o=m(c),r=d(),A(n,"font-size","20px"),h(e,"class","svelte-o54gka")},m(t,c){a(t,e,c),s(e,n),s(e,o),s(e,r),i||(l=f(e,"click",u),i=!0)},p(e,n){t=e,1&n&&c!==(c=t[6].text+"")&&M(o,c)},d(t){t&&p(e),i=!1,l()}}}function K(t){let o,r,i,l,c=[...t[1]],u=[];for(let e=0;e<c.length;e+=1)u[e]=X(J(t,c,e));let m=t[0].animals,f=[];for(let e=0;e<m.length;e+=1)f[e]=q(V(t,m,e));return{c(){o=y("div"),r=y("ul");for(let t=0;t<u.length;t+=1)u[t].c();i=d(),l=y("center");for(let t=0;t<f.length;t+=1)f[t].c();h(o,"class","svelte-o54gka"),function(t,e,n){t.classList[n?"add":"remove"](e)}(o,"container",tt),A(o,"background-color",e.color.ui.white)},m(t,e){a(t,o,e),s(o,r);for(let t=0;t<u.length;t+=1)u[t].m(r,null);s(o,i),s(o,l);for(let t=0;t<f.length;t+=1)f[t].m(l,null)},p(t,[e]){if(2&e){let n;for(c=[...t[1]],n=0;n<c.length;n+=1){const o=J(t,c,n);u[n]?u[n].p(o,e):(u[n]=X(o),u[n].c(),u[n].m(r,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}if(5&e){let n;for(m=t[0].animals,n=0;n<m.length;n+=1){const o=V(t,m,n);f[n]?f[n].p(o,e):(f[n]=q(o),f[n].c(),f[n].m(l,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=m.length}},i:n,o:n,d(t){t&&p(o),g(u,t),g(f,t)}}}const tt=!0;function et(t,n,o){let{extension:r}=n,{close:i}=n;const l=(t,...n)=>e.reactiveInvoke(o(0,r),t,n);let c;return t.$$set=t=>{"extension"in t&&o(0,r=t.extension),"close"in t&&o(3,i=t.close)},t.$$.update=()=>{1&t.$$.dirty&&(t=>{o(1,c=new Map);for(const t of l("getAnimalCollectionEmojis"))c.set(t,c.has(t)?c.get(t)+1:1)})()},[r,c,l,i,t=>l("addAnimalToCollection",t.value)]}return t.Alert=class extends z{constructor(t){super(),_(this,t,null,B,c,{})}},t.AnimalArgument=class extends z{constructor(t){super(),_(this,t,W,Z,c,{setter:2,current:3,extension:4})}},t.Animals=class extends z{constructor(t){super(),_(this,t,et,K,c,{extension:0,close:3},F)}},t.Extension=Q,Object.defineProperty(t,"__esModule",{value:!0}),t}({},ExtensionFramework);//# sourceMappingURL=complexprg95grpexample.js.map
